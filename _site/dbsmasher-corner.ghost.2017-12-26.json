{"db":[{"meta":{"exported_on":1514258067081,"version":"009"},"data":{"posts":[{"id":2,"uuid":"f2dd5c7d-c876-4d6f-ac88-6944cd6b7ca2","title":"Scaling MySQL at SendGrid","slug":"scaling-mysql-at-sendgrid","markdown":"*Note: This post first appeared at [Sendgrid's official blog](https://sendgrid.com/blog/scaling-mysql-at-sendgrid/) *\n\nSendGrid is the epitome of catching a tiger by the tail. Our systems were not originally designed to handle the massive scale we deal with today. Adding new features at this scale also presents challenges budding companies don’t yet need to design for. With our growth and overall traffic, we have had to come up with solutions to handle challenges related to simply scaling our datastores.\n\nAt SendGrid, a large portion of our data is housed in 10 distinct MySQL datastores with a total of 87 physical machines and 255 MySQL instances. We also have a varying combination of challenges that tend to be specific to our clusters. Let’s walk through some of these challenges and how we've tackled them.\n\n### High transaction rate\n\nWe collect a lot of statistics on the mail we send. How often email is opened, clicked, marked as spam....etc. These stats used to live in one of our busiest MySQL clusters, peaking at 17,000 transactions per second almost every day. While a lot of our daemons in SendGrid, including our stats writer, use local queues as a method of back pressure at peak traffic times, eventually, we reached a scale that broke known limits of MySQL performance and scalability.  \n\nA benchmark by Percona puts MySQL (with settings comparable to ours) using solid state drives peaking their throughput at 15,000 transactions per second (Benchmark by Percona). There was a very brief moment of pride for our ops team that we had a finely tuned database working as hard as it can be worked. But how do we continue scaling? \n\nThis is when we used a strategy known as “Functional Sharding.”  Functional sharding is when you separate parts of your data set to dedicated database clusters based on common functionality in order to split read heavy data (like user login information) from write heavy data (like statistics tables) and gives the ops team the chance to tune each database separately for their specific workload.\n\n### Insane dataset sizes\n\nAnother challenge we face at SendGrid is the sheer size of our data set. MySQL, being the go-to relational database for many startups, is typically deployed in sizes that don't exceed a few hundred gigabytes per instance. Ideally row counts are 500M or less, or in rare occasions on special hardware, 1B rows. Here at SendGrid, our largest single instance is a whopping 21 billion rows, living on 7.3 TB of disk space.\n\nWhen creating the datastore that will hold information about every single link in a large portion of our email volume, data set size was immediately a concern. Not only the sheer volume of data, but also the fact that we will need to read it at an aggregated rate of 60 thousand IO operations per second and at peak times as millions of recipients open these emails and click links. We also have to keep this data for 8 weeks as people can and will click on links in emails that are that old. This brings the total data set size to 8.8 TBs of data including replicas.\n\nSo what is the solution for this? Horizontal sharding. Breaking your data into individual instances of MySQL where each instance looks the same, but the rows contained are separate. This is especially easy to do when the rows can exist independently of each other and you will not do searches across clusters that have to be grouped later. \n\nIn order to also maximize the I/O of our solid state drives and the CPU throughput of all those cores, we housed 5 instances of MySQL per box leading to a lot more parallel reads and writes per machine and more IOPS from a single machine. This data store amounts to 75 individual MySQL instances across 44 servers. \n\n### How to write apps for it all\n\nWhether it is functional or horizontal sharding, most open source object relational mappers do not support this kind of data distribution where the application has to have a context of where the information for different parts of its stack lives. At SendGrid we developed an application that does it all for us. When we started, solving problems of this scale was not common. However, now there are numerous open source projects that support this style of using MySQL. You can choose between jetpants (By Tumblr), Vitess (By YouTube), MySQL Fabric (By Oracle) and a few other open source and proprietary solutions.\n\n## Things to come\n \nHere at SendGrid, we always have a bunch of different new services in development at any given time and invariably most, if not all of them, need a datastore and a lot of times that means MySQL. What that means to the ops team is an imperative to keep our MySQL deployments automated and version controlled, and to always look ahead and design schemas and tune configurations for maximum performance and optimal use of resources. \n\n","html":"<p>*Note: This post first appeared at <a href=\"https://sendgrid.com/blog/scaling-mysql-at-sendgrid/\">Sendgrid's official blog</a> *</p>\n\n<p>SendGrid is the epitome of catching a tiger by the tail. Our systems were not originally designed to handle the massive scale we deal with today. Adding new features at this scale also presents challenges budding companies don’t yet need to design for. With our growth and overall traffic, we have had to come up with solutions to handle challenges related to simply scaling our datastores.</p>\n\n<p>At SendGrid, a large portion of our data is housed in 10 distinct MySQL datastores with a total of 87 physical machines and 255 MySQL instances. We also have a varying combination of challenges that tend to be specific to our clusters. Let’s walk through some of these challenges and how we've tackled them.</p>\n\n<h3 id=\"hightransactionrate\">High transaction rate</h3>\n\n<p>We collect a lot of statistics on the mail we send. How often email is opened, clicked, marked as spam....etc. These stats used to live in one of our busiest MySQL clusters, peaking at 17,000 transactions per second almost every day. While a lot of our daemons in SendGrid, including our stats writer, use local queues as a method of back pressure at peak traffic times, eventually, we reached a scale that broke known limits of MySQL performance and scalability.  </p>\n\n<p>A benchmark by Percona puts MySQL (with settings comparable to ours) using solid state drives peaking their throughput at 15,000 transactions per second (Benchmark by Percona). There was a very brief moment of pride for our ops team that we had a finely tuned database working as hard as it can be worked. But how do we continue scaling? </p>\n\n<p>This is when we used a strategy known as “Functional Sharding.”  Functional sharding is when you separate parts of your data set to dedicated database clusters based on common functionality in order to split read heavy data (like user login information) from write heavy data (like statistics tables) and gives the ops team the chance to tune each database separately for their specific workload.</p>\n\n<h3 id=\"insanedatasetsizes\">Insane dataset sizes</h3>\n\n<p>Another challenge we face at SendGrid is the sheer size of our data set. MySQL, being the go-to relational database for many startups, is typically deployed in sizes that don't exceed a few hundred gigabytes per instance. Ideally row counts are 500M or less, or in rare occasions on special hardware, 1B rows. Here at SendGrid, our largest single instance is a whopping 21 billion rows, living on 7.3 TB of disk space.</p>\n\n<p>When creating the datastore that will hold information about every single link in a large portion of our email volume, data set size was immediately a concern. Not only the sheer volume of data, but also the fact that we will need to read it at an aggregated rate of 60 thousand IO operations per second and at peak times as millions of recipients open these emails and click links. We also have to keep this data for 8 weeks as people can and will click on links in emails that are that old. This brings the total data set size to 8.8 TBs of data including replicas.</p>\n\n<p>So what is the solution for this? Horizontal sharding. Breaking your data into individual instances of MySQL where each instance looks the same, but the rows contained are separate. This is especially easy to do when the rows can exist independently of each other and you will not do searches across clusters that have to be grouped later. </p>\n\n<p>In order to also maximize the I/O of our solid state drives and the CPU throughput of all those cores, we housed 5 instances of MySQL per box leading to a lot more parallel reads and writes per machine and more IOPS from a single machine. This data store amounts to 75 individual MySQL instances across 44 servers. </p>\n\n<h3 id=\"howtowriteappsforitall\">How to write apps for it all</h3>\n\n<p>Whether it is functional or horizontal sharding, most open source object relational mappers do not support this kind of data distribution where the application has to have a context of where the information for different parts of its stack lives. At SendGrid we developed an application that does it all for us. When we started, solving problems of this scale was not common. However, now there are numerous open source projects that support this style of using MySQL. You can choose between jetpants (By Tumblr), Vitess (By YouTube), MySQL Fabric (By Oracle) and a few other open source and proprietary solutions.</p>\n\n<h2 id=\"thingstocome\">Things to come</h2>\n\n<p>Here at SendGrid, we always have a bunch of different new services in development at any given time and invariably most, if not all of them, need a datastore and a lot of times that means MySQL. What that means to the ops team is an imperative to keep our MySQL deployments automated and version controlled, and to always look ahead and design schemas and tune configurations for maximum performance and optimal use of resources. </p>","image":null,"featured":1,"page":0,"status":"published","language":"en_US","meta_title":"scaling mysql at sendgrid","meta_description":"","author_id":1,"created_at":"2015-02-08 20:09:11","created_by":1,"updated_at":"2015-03-06 15:17:06","updated_by":1,"published_at":"2015-02-08 20:09:47","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":3,"uuid":"1ae63ec6-be1d-47a3-a1f0-1461d0921f6c","title":"Learning configuration management as a DBA","slug":"-learning-configuration-management-as-a-dba","markdown":"\n### How it's been\t\nBefore SendGrid, I used to deploy all my databases by hand. I'd have a documentation page (a google doc, internal wiki page...whatever). And it would be a long bulleted list of \"Install this, then install this\". If you have ever maintained 'How to' documents like that, This picture will eventually ring true.\n\n![code comments](http://s4.postimg.org/44kc215hp/code_comment.png)\n\nThis was not a good approach, obviously. Especially when small details start changing but the 'documentation' lags behind. Now you have a situation that enables tribal knowledge which means 3 am ops person who is not the DBA has even less of an ability to know what should be running on a database and how it should look like under normal operations.\n\n\n### Multiply by...a lot\nThen came my largest deployment to date at Sendgrid. We needed a data store for storing the click and open tracking for our short URLs and we decided to use MySQL as the place for this. This was going to be a ton of rows with a high demand on fast writes and supporting a *lot* of reads. So a single instance was not going to cut it. \n\nBecause MySQL 5.5 was the standard GA version at the time, we were still limited to a MySQL that didn't very efficiently use all the cores newer server configuraitons could offer. So to squeeze out the most performance out of our not so cheap hardware, we also decided to house 5 MySQL instances per box. The way to do that was add a Virtual IP per instance on the box, use distinct data directories and config files per instance while still making sure that all 5 instances are 'equal' so as not to let one starve the others of system resources.\n\n### Enter chef\nAs you can see where I am going with this, it became very clear to me that I could not successfully deploy this new cluster (the biggest I had done yet) using the same old method. I needed a way to automate the building of these clusters and I needed that to also be an easy method of maintaining the state of these clusters (configuration or MySQL and teh system underneath) in code.\n\nSo why chef? Simply put, it was what Sendgrid had already been using for configuration management and what is now often called 'Infrastructure as code'. I wanted this datastore to begin the effort of not making what I do seem like black magic...because it really isn't. I work with a team of great operations engineers and when trying to scale traffic to double or more annually with a not very big team, consistency of tools is of extreme importance.\n\n\n### What I learned\nLearning chef as a DBA was an interesting experience. I will preface this section by saying that 2 years later, I am rewriting not just the cookbook for this data cluster but all of my chef code at Sendgrid. There are many things I learned the hard way in that first major iteration and I can imagine the same pitfalls happening to others in a DBA or similar roles in other companies.\n\n_Write your own cookbook_\n\nI am not going to go into code samples. There are a few community cookbooks for installing MySQL/Percone Server and I consider them all a great place to find examples. Yes, you can absolutely grab them and deploy MySQL with them and I imagine for many budding teams this may be a very fine path to take. But know the debt you take on when grabbing someone else's code to deploy your infrastructure. I chose from the very beginning to write my own cookbook because by the time I started, Sendgrid was already doing a huge throughput and that comes with a number of tweaks.\n\n _When things are similar but not the same_\n\nWhen I started on this cookbook writing adventure, I thought my different database clusters were similar enough to use one cookbook with just some attribute differences. And maybe when I strated 2+ years ago that was true. Very quickly though, as we sharded more tables into their own clusters, plus added a few more brand new projects using MySQL, that stopped being true. I found myself maintaining the monorail of database cookbooks. Making its testing strategy truly comprehensive meant 3 test kitchen suites *per database kind*. Build times grew exponentially. \n\nThis is why in this rewrite I am heavily using what is basically a wrapper style. Yes, most of my MySQL deployments use what is more or less the same pattern, but usually in the post server install time, things diverge. And there are few things as frustrating as watching a multi hour jenkins build because I changed a config file for a specific database type.\n\n_Embrace your organisation's cookbook hierarchy_\n\nBesides automation, making my life easier...etc. First and foremost, I decided to learn chef and write cookbooks for our databases because _database land should not be an island_. This is why in my rewrites I made sure the operations engineering team reviewed my code. Not only is peer review from them, being immersed in chef the most, so useful. They also know what parts of system management we decided to turn into internal lightweight resources, making my code even simpler and no reinventing my mostly the same but not quite wheel. This has made the rewritten cookbooks much easier to follow and maintain.\n\n\nThis rewrite is not done. I only have a few clusters left with cookbooks in progress for them already. I have learned quite a lot about being a operations engineer working on this project.","html":"<h3 id=\"howitsbeen\">How it's been</h3>\n\n<p>Before SendGrid, I used to deploy all my databases by hand. I'd have a documentation page (a google doc, internal wiki page...whatever). And it would be a long bulleted list of \"Install this, then install this\". If you have ever maintained 'How to' documents like that, This picture will eventually ring true.</p>\n\n<p><img src=\"http://s4.postimg.org/44kc215hp/code_comment.png\" alt=\"code comments\" /></p>\n\n<p>This was not a good approach, obviously. Especially when small details start changing but the 'documentation' lags behind. Now you have a situation that enables tribal knowledge which means 3 am ops person who is not the DBA has even less of an ability to know what should be running on a database and how it should look like under normal operations.</p>\n\n<h3 id=\"multiplybyalot\">Multiply by...a lot</h3>\n\n<p>Then came my largest deployment to date at Sendgrid. We needed a data store for storing the click and open tracking for our short URLs and we decided to use MySQL as the place for this. This was going to be a ton of rows with a high demand on fast writes and supporting a <em>lot</em> of reads. So a single instance was not going to cut it. </p>\n\n<p>Because MySQL 5.5 was the standard GA version at the time, we were still limited to a MySQL that didn't very efficiently use all the cores newer server configuraitons could offer. So to squeeze out the most performance out of our not so cheap hardware, we also decided to house 5 MySQL instances per box. The way to do that was add a Virtual IP per instance on the box, use distinct data directories and config files per instance while still making sure that all 5 instances are 'equal' so as not to let one starve the others of system resources.</p>\n\n<h3 id=\"enterchef\">Enter chef</h3>\n\n<p>As you can see where I am going with this, it became very clear to me that I could not successfully deploy this new cluster (the biggest I had done yet) using the same old method. I needed a way to automate the building of these clusters and I needed that to also be an easy method of maintaining the state of these clusters (configuration or MySQL and teh system underneath) in code.</p>\n\n<p>So why chef? Simply put, it was what Sendgrid had already been using for configuration management and what is now often called 'Infrastructure as code'. I wanted this datastore to begin the effort of not making what I do seem like black magic...because it really isn't. I work with a team of great operations engineers and when trying to scale traffic to double or more annually with a not very big team, consistency of tools is of extreme importance.</p>\n\n<h3 id=\"whatilearned\">What I learned</h3>\n\n<p>Learning chef as a DBA was an interesting experience. I will preface this section by saying that 2 years later, I am rewriting not just the cookbook for this data cluster but all of my chef code at Sendgrid. There are many things I learned the hard way in that first major iteration and I can imagine the same pitfalls happening to others in a DBA or similar roles in other companies.</p>\n\n<p><em>Write your own cookbook</em></p>\n\n<p>I am not going to go into code samples. There are a few community cookbooks for installing MySQL/Percone Server and I consider them all a great place to find examples. Yes, you can absolutely grab them and deploy MySQL with them and I imagine for many budding teams this may be a very fine path to take. But know the debt you take on when grabbing someone else's code to deploy your infrastructure. I chose from the very beginning to write my own cookbook because by the time I started, Sendgrid was already doing a huge throughput and that comes with a number of tweaks.</p>\n\n<p><em>When things are similar but not the same</em></p>\n\n<p>When I started on this cookbook writing adventure, I thought my different database clusters were similar enough to use one cookbook with just some attribute differences. And maybe when I strated 2+ years ago that was true. Very quickly though, as we sharded more tables into their own clusters, plus added a few more brand new projects using MySQL, that stopped being true. I found myself maintaining the monorail of database cookbooks. Making its testing strategy truly comprehensive meant 3 test kitchen suites <em>per database kind</em>. Build times grew exponentially. </p>\n\n<p>This is why in this rewrite I am heavily using what is basically a wrapper style. Yes, most of my MySQL deployments use what is more or less the same pattern, but usually in the post server install time, things diverge. And there are few things as frustrating as watching a multi hour jenkins build because I changed a config file for a specific database type.</p>\n\n<p><em>Embrace your organisation's cookbook hierarchy</em></p>\n\n<p>Besides automation, making my life easier...etc. First and foremost, I decided to learn chef and write cookbooks for our databases because <em>database land should not be an island</em>. This is why in my rewrites I made sure the operations engineering team reviewed my code. Not only is peer review from them, being immersed in chef the most, so useful. They also know what parts of system management we decided to turn into internal lightweight resources, making my code even simpler and no reinventing my mostly the same but not quite wheel. This has made the rewritten cookbooks much easier to follow and maintain.</p>\n\n<p>This rewrite is not done. I only have a few clusters left with cookbooks in progress for them already. I have learned quite a lot about being a operations engineer working on this project.</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-02-13 01:06:14","created_by":1,"updated_at":"2015-02-13 01:53:10","updated_by":1,"published_at":"2015-02-13 01:49:42","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":4,"uuid":"7d210036-a86d-4d8f-a630-025a4b1037f0","title":"Alfred, csshx and terminalception","slug":"alfred-csshx-and-terminalception","markdown":"### Alfred, csshx and terminalception\n\nI use Tmux usually but Tmux on the mac has not been playing nice with csshx for me. Something in the dark magic of perl broke with an error that looks like this\n\n> Mar  5 08:58:42 silvias-MacBookPro.local perl[10828] <Error>: ImageIO: CGImageDestinationFinalize image destination must have at least one image\n2015-03-05 08:58:42.473 perl5.18[10828:2436454] CGImageDestinationFinalize failed for output type 'public.tiff'\n**** ERROR **** PerlObjCBridge:: convertPerlToObjC(): Referenced thingy not blessed\n**** ERROR **** PerlObjCBridge:: convertArg() for index 2: convertPerlToObjC() failed\n**** ERROR **** PerlObjCBridge:: sendObjcMessage: Error converting argument 1 for message \"setObject:forKey:\"\n**** ERROR **** PerlObjCBridge: error [1] sending message [__NSDictionaryM setObject:forKey:] at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/PerlObjCBridge.pm line 248.\n\nBut I wasn't about to let that take away my terminalception magic :) \n\nNote: This is for a mac environment but you may emulate it in your favourite distro by replacing Alfred with whatever launcher you may use.\n\n#### What you need\nAlfred app is my favorite launcher in mac but I suspect Quicksilver (if you are the quaint type) can also run commands directly to the terminal. \n\nNext install Homebrew. You need this to install csshx easily. Also because GNU tools :)\n`ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"`\n\nInstall csshx\n\n`brew install csshx`\n\nIf you are chef shop like mine, a lot of times what you are looking for is to ssh to all the machines of a certain type. In chef, we call those roles. This step will change depending on the configuration management/service discovery framework of choice in your infrastructure. \n\nFirst, set the terminal app your alfred will use. I set it to Terminal because I wanted this to be separate from my usual workspace in iTerm 2\n\n![Alfred settings](https://farm1.staticflickr.com/735/22396914786_e46c0ed4cd_b.jpg)\n\nThen, when I want to fire up csshX to a bunch of our our servers all at once, it usually looks like this. \n\n_Protip_: knife ssh can take cssh as an argument, so no awk and bash pipes required.\n\n![alfred term](https://farm6.staticflickr.com/5793/22433815321_7b1f1fced2_b.jpg)\n\nThis fires up Terminal, which runs the chef search, and opens separate windows. \n\n![csshx cap](https://farm6.staticflickr.com/5805/22422959375_891c2f313a_k.jpg)\n\nYour cursor will be in the bottom red window by default and input will appear in all the windows at the same time. When done, CMD+Q will bring this window\n\n![quit window](https://farm1.staticflickr.com/744/22422971645_735d9473b9_b.jpg)\n\nAnd done :)","html":"<h3 id=\"alfredcsshxandterminalception\">Alfred, csshx and terminalception</h3>\n\n<p>I use Tmux usually but Tmux on the mac has not been playing nice with csshx for me. Something in the dark magic of perl broke with an error that looks like this</p>\n\n<blockquote>\n  <p>Mar  5 08:58:42 silvias-MacBookPro.local perl[10828] <Error>: ImageIO: CGImageDestinationFinalize image destination must have at least one image\n  2015-03-05 08:58:42.473 perl5.18[10828:2436454] CGImageDestinationFinalize failed for output type 'public.tiff' <br />\n  <strong><em>* ERROR *</em></strong> PerlObjCBridge:: convertPerlToObjC(): Referenced thingy not blessed\n  <strong><em>* ERROR *</em></strong> PerlObjCBridge:: convertArg() for index 2: convertPerlToObjC() failed\n  <strong><em>* ERROR *</em></strong> PerlObjCBridge:: sendObjcMessage: Error converting argument 1 for message \"setObject:forKey:\"\n  <strong><em>* ERROR *</em></strong> PerlObjCBridge: error [1] sending message [__NSDictionaryM setObject:forKey:] at /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level/PerlObjCBridge.pm line 248.</p>\n</blockquote>\n\n<p>But I wasn't about to let that take away my terminalception magic :) </p>\n\n<p>Note: This is for a mac environment but you may emulate it in your favourite distro by replacing Alfred with whatever launcher you may use.</p>\n\n<h4 id=\"whatyouneed\">What you need</h4>\n\n<p>Alfred app is my favorite launcher in mac but I suspect Quicksilver (if you are the quaint type) can also run commands directly to the terminal. </p>\n\n<p>Next install Homebrew. You need this to install csshx easily. Also because GNU tools :) <br />\n<code>ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"</code></p>\n\n<p>Install csshx</p>\n\n<p><code>brew install csshx</code></p>\n\n<p>If you are chef shop like mine, a lot of times what you are looking for is to ssh to all the machines of a certain type. In chef, we call those roles. This step will change depending on the configuration management/service discovery framework of choice in your infrastructure. </p>\n\n<p>First, set the terminal app your alfred will use. I set it to Terminal because I wanted this to be separate from my usual workspace in iTerm 2</p>\n\n<p><img src=\"https://farm1.staticflickr.com/735/22396914786_e46c0ed4cd_b.jpg\" alt=\"Alfred settings\" /></p>\n\n<p>Then, when I want to fire up csshX to a bunch of our our servers all at once, it usually looks like this. </p>\n\n<p><em>Protip</em>: knife ssh can take cssh as an argument, so no awk and bash pipes required.</p>\n\n<p><img src=\"https://farm6.staticflickr.com/5793/22433815321_7b1f1fced2_b.jpg\" alt=\"alfred term\" /></p>\n\n<p>This fires up Terminal, which runs the chef search, and opens separate windows. </p>\n\n<p><img src=\"https://farm6.staticflickr.com/5805/22422959375_891c2f313a_k.jpg\" alt=\"csshx cap\" /></p>\n\n<p>Your cursor will be in the bottom red window by default and input will appear in all the windows at the same time. When done, CMD+Q will bring this window</p>\n\n<p><img src=\"https://farm1.staticflickr.com/744/22422971645_735d9473b9_b.jpg\" alt=\"quit window\" /></p>\n\n<p>And done :)</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":"Alfred, csshx and multiplex ssh ","meta_description":null,"author_id":1,"created_at":"2015-03-05 15:17:39","created_by":1,"updated_at":"2015-10-24 01:35:58","updated_by":1,"published_at":"2015-03-06 14:47:41","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":5,"uuid":"35623085-82a1-4e18-9d71-762b9a6863df","title":"On Burnout","slug":"on-burnout","markdown":"### The not-so-merry go round\n\n\nThere is a lot of talk these days about burnout in our field. A lot of [great](http://burnout.io) [initiatives](http://mhprompt.org) to get us tech people to not hide it, not sweep it under the rug. \n\nThis is a great start for a more honest conversation about the stresses we all deal with in this industry and yet, a lot of the examples I see of people trying to deal with it is through quitting their current gig, taking a long vacation, then working on finding the next gig. \n\nIn the long run, this is not great for companies' overall health and more importantly for a team’s health and morale. There are already statistics about how [churn in IT is the highest compared to other fields](http://www.techrepublic.com/blog/career-management/tech-companies-have-highest-turnover-rate/) and if you are at all familiar with all the effort that goes into recruiting, hiring and on boarding in our field, you probably already know that it is an expensive process with a lead time in the months. A lot of what i ruminated over the last few weeks wasn't just my words but also the words of a [dear colleague](http://logikal.is/blog/2013/04/30/a-month-to-myself/) who had to do this exact thing a few years back.\n\n\n### Seeing it\n\nIt may be irrelevant whether our industry makes us wanna appear invincible or if this industry just attracts those of us who want to always appear strong and have it all figured out. But I know *I* always try to do that. Family, kid, plus managing a database layer that has expanded twenty-fold in my three and a half years with my current job. \n\nLet me start with saying that I do not do it alone. Early on we hired consultants to help off load a lot of the DBA tasks. But in the end of the day, I've always felt that I am the in house DBA, I own the performance, management, and health of these systems. \n\nThis sense of ownership, while lauded, led me to unrealistic expectations of myself. I was checking work chat all the time, checking email all the time. I had slipped into a pattern of coupling being online/available all the time with doing a good job. \n\nAs the months and quarters rolled by, cracks started to appear. \n\nI was having less fun with spending time with developers, talking distributed system architecture. Suddenly, I was having the 'Sunday evening dread'...something I didn't really think would happen working on so many exciting things and interesting problems for so long.  I could see the snark levels increase in my conversations..\n\n\"yeah I will test this new shiny thing in maybe a few years\"\n\n\"Sure...we will someday deprecate this old thing!\"\n\n### Corroborating evidence\n\nSometimes even though we know something, we need an external source with more experience to confirm to us that it is true, that we aren't just 'not good enough'. For me, a lot of that was talks by [Laura Thompson](https://twitter.com/lxt) of Mozilla. The [first](http://original.livestream.com/etsycodeascraft/video?clipId=pla_b7da40fe-ac51-4a87-ac0b-6002899457eb&utm_source=lslibrary&utm_medium=ui-thumb) is more directed at managers but it absolutely helped me. The [second](https://vimeo.com/131484322) was at this year's Monitorama. All the signs were there. The decrease in my github activity, the constant feeling that I was fighting emergencies all the time, physical and emotional exhaustion, sense of ineffectiveness and lack of accomplishment (Yes, I am now directly quoting the slides)\n\n### What to do\n\n#### Own your boundaries\n\nBeing able to separate the time you are working from the time you are not is paramount. In the end, no one owns my well being more than me. I work remote in a different timezone than my team so boundaries were extra important to establish.\n\n I started off by disallowing any push notifications for work hipchat on my phone. Not accepting meetings past 5 PM. Removing work email from the phone and most importantly, the laptop doesn't leave the office room during the week. \n\nWhat helped me the most was turning off work email on my phone. I needed to accept that email is an asynchronous method of communication and that I shouldn't feel guilty about not checking it every hour including right before going to sleep. I know this may sound incredibly obvious to some but for me the checking work email and work chat from the phone constantly was like an itch and it took me a while to accept that it was an expectation I was setting for myself and that in the long run it was not making me a more productive employee or a better engineer in any way.\n \n\n#### Talk to your team\n\nThe roles here differ depending on whether you are a manager, or individual contributor. None of this could work without support from my team, including management. \n\n*Managers, this is how you avoid churn*.  You need to make sure your team feels safe saying they need a break and to feel safe taking it. None of this 'unlimited vacation time' nonsense if no one is actually going on vacation. 1:1s are supremely important here. I am not ignoring that a busy team also means an overwhelmed manager sometimes but this is the time where you as a leader must prioritize keeping in touch with the team than anything else. \n\n/soapbox\n\n\nI am an Individual contributor but I am also one of the more senior team members (in tenure) so accepting that I carry some of the responsibility of setting the tone was necessary. Besides being honest with myself, I needed to be honest with my team. I started letting my project manager and my lead know that I would be staying off chat in the evening. Making sure they have a way to get a hold of me and trusting *them* that they will truly only use it sparingly and in emergencies. Without that framework and their support, I may know what I need but I would not feel empowered to act on it and I am very grateful that they let me do that and do the same for themselves so we can all continue working together.\n\n\n#### Talk to someone\n\nThis doesn't have to be a mental health professional although that is also a good thing to do. But in the simpler sense it helps a lot to talk to people who have been or are still going through the same thing, even with a few minor details altered. There is a lot of us in [hangops.slack.com](http://signup.hangops.com) who have stories and scars from this. So much so that we have a dedicated mental health channel.\n\n#### Work in progress\n\nI mentioned in the beginning how I see most people deal with this situation. And there many of us. Does this mean I am looking for a new gig? No. This is not a quitting post :) I like my team. A lot. And I don’t just want to continue working with them but to continue to enjoy it and I want to see them also have a good time working with me. This work in progress has to always start with me recognising what I need and communicating it but I also have a team that has supported the steps I took to ease the stress. \n\nI can't stress this enough. I am still learning how to deal with this. I know now I always will be. It is a fine line between being someone who is honest about their work, always caring to go the extra mile and do right by their employer without sacrificing their sanity and inner peace.\n\nI don’t want to eventually feel contempt and resentment towards that work. I am also not arguing for slacking off in the name of life work balance. Too many companies don't put a lot of value in keeping their employees healthy in mind as well as body and that is a very good reason to look for another gig, and there are companies that are aware of these pressures and challenges but are only beginning to truly acknowledge them and begin a conversation about them. \n\nIt is on all of us to not try to be individual heroes/ninjas/rockstars and instead promote teams of healthy, rested, smart engineers with well balanced lives.\n\n\n_Many thanks to Sean Kilgore, Jennifer Davis and Charity Majors for helping put these thoughts to words_\n\n","html":"<h3 id=\"thenotsomerrygoround\">The not-so-merry go round</h3>\n\n<p>There is a lot of talk these days about burnout in our field. A lot of <a href=\"http://burnout.io\">great</a> <a href=\"http://mhprompt.org\">initiatives</a> to get us tech people to not hide it, not sweep it under the rug. </p>\n\n<p>This is a great start for a more honest conversation about the stresses we all deal with in this industry and yet, a lot of the examples I see of people trying to deal with it is through quitting their current gig, taking a long vacation, then working on finding the next gig. </p>\n\n<p>In the long run, this is not great for companies' overall health and more importantly for a team’s health and morale. There are already statistics about how <a href=\"http://www.techrepublic.com/blog/career-management/tech-companies-have-highest-turnover-rate/\">churn in IT is the highest compared to other fields</a> and if you are at all familiar with all the effort that goes into recruiting, hiring and on boarding in our field, you probably already know that it is an expensive process with a lead time in the months. A lot of what i ruminated over the last few weeks wasn't just my words but also the words of a <a href=\"http://logikal.is/blog/2013/04/30/a-month-to-myself/\">dear colleague</a> who had to do this exact thing a few years back.</p>\n\n<h3 id=\"seeingit\">Seeing it</h3>\n\n<p>It may be irrelevant whether our industry makes us wanna appear invincible or if this industry just attracts those of us who want to always appear strong and have it all figured out. But I know <em>I</em> always try to do that. Family, kid, plus managing a database layer that has expanded twenty-fold in my three and a half years with my current job. </p>\n\n<p>Let me start with saying that I do not do it alone. Early on we hired consultants to help off load a lot of the DBA tasks. But in the end of the day, I've always felt that I am the in house DBA, I own the performance, management, and health of these systems. </p>\n\n<p>This sense of ownership, while lauded, led me to unrealistic expectations of myself. I was checking work chat all the time, checking email all the time. I had slipped into a pattern of coupling being online/available all the time with doing a good job. </p>\n\n<p>As the months and quarters rolled by, cracks started to appear. </p>\n\n<p>I was having less fun with spending time with developers, talking distributed system architecture. Suddenly, I was having the 'Sunday evening dread'...something I didn't really think would happen working on so many exciting things and interesting problems for so long.  I could see the snark levels increase in my conversations..</p>\n\n<p>\"yeah I will test this new shiny thing in maybe a few years\"</p>\n\n<p>\"Sure...we will someday deprecate this old thing!\"</p>\n\n<h3 id=\"corroboratingevidence\">Corroborating evidence</h3>\n\n<p>Sometimes even though we know something, we need an external source with more experience to confirm to us that it is true, that we aren't just 'not good enough'. For me, a lot of that was talks by <a href=\"https://twitter.com/lxt\">Laura Thompson</a> of Mozilla. The <a href=\"http://original.livestream.com/etsycodeascraft/video?clipId=pla_b7da40fe-ac51-4a87-ac0b-6002899457eb&amp;utm_source=lslibrary&amp;utm_medium=ui-thumb\">first</a> is more directed at managers but it absolutely helped me. The <a href=\"https://vimeo.com/131484322\">second</a> was at this year's Monitorama. All the signs were there. The decrease in my github activity, the constant feeling that I was fighting emergencies all the time, physical and emotional exhaustion, sense of ineffectiveness and lack of accomplishment (Yes, I am now directly quoting the slides)</p>\n\n<h3 id=\"whattodo\">What to do</h3>\n\n<h4 id=\"ownyourboundaries\">Own your boundaries</h4>\n\n<p>Being able to separate the time you are working from the time you are not is paramount. In the end, no one owns my well being more than me. I work remote in a different timezone than my team so boundaries were extra important to establish.</p>\n\n<p>I started off by disallowing any push notifications for work hipchat on my phone. Not accepting meetings past 5 PM. Removing work email from the phone and most importantly, the laptop doesn't leave the office room during the week. </p>\n\n<p>What helped me the most was turning off work email on my phone. I needed to accept that email is an asynchronous method of communication and that I shouldn't feel guilty about not checking it every hour including right before going to sleep. I know this may sound incredibly obvious to some but for me the checking work email and work chat from the phone constantly was like an itch and it took me a while to accept that it was an expectation I was setting for myself and that in the long run it was not making me a more productive employee or a better engineer in any way.</p>\n\n<h4 id=\"talktoyourteam\">Talk to your team</h4>\n\n<p>The roles here differ depending on whether you are a manager, or individual contributor. None of this could work without support from my team, including management. </p>\n\n<p><em>Managers, this is how you avoid churn</em>.  You need to make sure your team feels safe saying they need a break and to feel safe taking it. None of this 'unlimited vacation time' nonsense if no one is actually going on vacation. 1:1s are supremely important here. I am not ignoring that a busy team also means an overwhelmed manager sometimes but this is the time where you as a leader must prioritize keeping in touch with the team than anything else. </p>\n\n<p>/soapbox</p>\n\n<p>I am an Individual contributor but I am also one of the more senior team members (in tenure) so accepting that I carry some of the responsibility of setting the tone was necessary. Besides being honest with myself, I needed to be honest with my team. I started letting my project manager and my lead know that I would be staying off chat in the evening. Making sure they have a way to get a hold of me and trusting <em>them</em> that they will truly only use it sparingly and in emergencies. Without that framework and their support, I may know what I need but I would not feel empowered to act on it and I am very grateful that they let me do that and do the same for themselves so we can all continue working together.</p>\n\n<h4 id=\"talktosomeone\">Talk to someone</h4>\n\n<p>This doesn't have to be a mental health professional although that is also a good thing to do. But in the simpler sense it helps a lot to talk to people who have been or are still going through the same thing, even with a few minor details altered. There is a lot of us in <a href=\"http://signup.hangops.com\">hangops.slack.com</a> who have stories and scars from this. So much so that we have a dedicated mental health channel.</p>\n\n<h4 id=\"workinprogress\">Work in progress</h4>\n\n<p>I mentioned in the beginning how I see most people deal with this situation. And there many of us. Does this mean I am looking for a new gig? No. This is not a quitting post :) I like my team. A lot. And I don’t just want to continue working with them but to continue to enjoy it and I want to see them also have a good time working with me. This work in progress has to always start with me recognising what I need and communicating it but I also have a team that has supported the steps I took to ease the stress. </p>\n\n<p>I can't stress this enough. I am still learning how to deal with this. I know now I always will be. It is a fine line between being someone who is honest about their work, always caring to go the extra mile and do right by their employer without sacrificing their sanity and inner peace.</p>\n\n<p>I don’t want to eventually feel contempt and resentment towards that work. I am also not arguing for slacking off in the name of life work balance. Too many companies don't put a lot of value in keeping their employees healthy in mind as well as body and that is a very good reason to look for another gig, and there are companies that are aware of these pressures and challenges but are only beginning to truly acknowledge them and begin a conversation about them. </p>\n\n<p>It is on all of us to not try to be individual heroes/ninjas/rockstars and instead promote teams of healthy, rested, smart engineers with well balanced lives.</p>\n\n<p><em>Many thanks to Sean Kilgore, Jennifer Davis and Charity Majors for helping put these thoughts to words</em></p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-07-27 01:14:30","created_by":1,"updated_at":"2015-07-29 20:36:22","updated_by":1,"published_at":"2015-07-29 20:23:02","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":6,"uuid":"25d3b1de-ea47-438d-bbf1-0197841882de","title":"Using Sensu for DBA tasks","slug":"using-sensu-for-dba-tasks","markdown":"### Sensu for monitoring\nHere at Sendgrid we spent the last couple of years porting a lot of our service and host monitoring to [Sensu](https://sensuapp.org/). Its solid API support meant we could write all sorts of tooling around it. We also liked the idea of standalone, client side checks that push their status to the Sensu alerting queue asynchronously. If you are new to Sensu or haven't ever read on it, [this is a good place to start](https://sensuapp.org/docs/latest/overview).\n\n### Typical usage example\n\nThe typical use I have for such standalone checks is health checks, a simple example looks like this in Sensu's client config\n\n```\n{\n  \"checks\": {\n    \"mysql_alive\": {\n      \"command\": \"mysql-alive.rb -h <IP> -d mysql -u :::mysql.user|sensu::: -p :::mysql.password:::\",\n      \"handlers\": [\n        \"default\"\n      ],\n      \"standalone\": true,\n      \"interval\": 10,\n      \"notification\": \"OMG MySQL is dead!\"\n    }\n  }\n}\n```\n\nBut if you look closer, all you really do is tell Sensu to run a command. So this can be...any command. This will be useful in a just a moment.\n\n### What I am solving\n\nI have been traditionally using the crond service for running local management tasks on databases like rotating partitions and triggering backups. Along with that, we have a report that would check the logs of these jobs, on each backup replica, and make sure they ended in success messages. This is fragile due to a number of reasons:\n\n* CronD doesn't have any built in monitoring. It does not have a concept of 'stale'\n* Those reports - I will call them 'watchers' - are one more moving part adding complexity to the question 'when was the last successful backup of my DB?'\n* This setup is prone to race conditions. You must time the task and its watcher in cron exactly or else the watcher can preemptively trigger an alert or signal failure when the backup is not done yet. Any drift in duration of the task will eventually make this happen (like a backup taking longer as a database grows).\n* What if the watcher script didn't run? It is also in CronD - either on the same host or on another host, right? Either you find yourself in a rabbit hole of who watches the watchers, or a human has to notice that a report didn't come out...humans aren't good at remembering things.\n* Changing the designation of a server means you must change it in a number of places or the watcher will watch the wrong host.\n* We are striving to [keep our stack boring](http://mcfunley.com/choose-boring-technology). While newer technologies like chronos and rundeck provide more enhanced scheduling, they also need a service discovery layer to do this right. That was a bigger undertaking and too much scope creep for what I was solving.\n\nSo I decided to make Sensu work to my advantage, with the help of chef roles.\n\n### Partition rotation in Sensu\n\nI started off by moving any credentials I need for my partition rotation script into Sensu's redacted configuration. This is good practice for _anything_ you put into sensu that uses secrets. The credentials are added in `/etc/sensu/client.json` then are just referenced in check configurations using `:::secret_thingie:::` notation.\n\n*_Protip_*: Sensu doesn't know what to redact in client.json. You must also define the name of the keys you want redacted. like this..\n\n```\n\"redact\": [\n  \"other_password\",\n  \"password\"\n]\n```\nThis is also not a deep merged list. As you can see I had to explicitly include 'password' once I needed to add another key in that list.\n\nThen I needed to define the new Sensu check that rotates the partitions. I am using a chef resource as the code example.\n\n```\nsensu_check 'add_table_partitions' do\n  command \"/usr/local/pdb/bin/pdb-parted --add --interval d +7d.startof h=localhost,u=specialdbuser,p=:::redacted_partition_password:::,D=mydb,t=special_table >> /var/log/partition_rotation.log 2>&1\"\n  handlers %w(default_handler special_dba_handler)\n  interval 86400\n  standalone true\n  additional(:occurrences => 3, :notification => \"#{node['hostname']} failed adding partitions to important table. See log file in /var/log/mail_send_cancel_pause.log\")\nend\n```\n\nLet's inspect what just happened here...\n\n`command`:  [pdb-parted](https://github.com/palominodb/PalominoDB-Public-Code-Repository/blob/master/tools/data_mgmt/t/pdb-parted/pdb-parted.t) is a very useful perl script by the folks from Palominodb (now at [Pythian](http://www.pythian.com/)) for rotating partitions in a MySQL DB. This is the same line I used to maintain in a crontab file configuration.\n\n`interval`: how often this Sensu check runs. In this example these are daily partitions so running the script daily was sufficient. *The important part here is that your script is idempotent*. pdb-parted is. If it finds that the needed partitions already exists, it just outputs a message to that effect and exits nicely.\n\n`occurrences`: This is the number of allowed failures before alerting. It is nice to have a buffer especially when I already configure the command to make partitions days/weeks in advance.  \n\nFor those who use tools other than chef and want to see what the final check configuration looks like, here it is, important bits redacted:\n\n```\n{\n  \"checks\": {\n    \"add_table_partitions\": {\n      \"command\": \"/usr/local/pdb/bin/pdb-parted --add --interval m +7m.startof h=localhost,u=specialdbuser,p=:::redacted_partition_password:::,D=mydb,t=special_table >> /var/log/partition_rotation.log 2>&1\",\n      \"handlers\": [\n        \"default_handler\",\n        \"special_dba_handler\"\n      ],\n      \"standalone\": true,\n      \"interval\": 86400,\n      \"occurrences\": 3,\n      \"notification\": \"hostname failed adding partitions to special table. See log file in /var/log/partition_rotation.log\"\n    }\n  }\n}\n```\n\nPartition rotation now has built in monitoring. If this script exits with a non zero code, the Sensu handlers take care of getting this knowledge to the predefined group of people using the method we want. We already have multiple on-call team rotations set up and escalation paths and all the other stuff that comes along with monitoring at scale. So we got to just leverage all of that rather than reinventing the wheel.\n\n### Planned future improvements\n\nNo solution is perfect. Neither is this one.\n\n* We still run the risk of more than one machine in a cluster holding the primary role. Until service discovery is in place, this is something we can build a check for leveraging chef search.\n* Now that tasks like backups are running in a first class citizen tool in our stack, I can more easily add stats and get graphs for how long backups take, how big backups are to make capacity planning and MTTR tracking easier.\n\n\n","html":"<h3 id=\"sensuformonitoring\">Sensu for monitoring</h3>\n\n<p>Here at Sendgrid we spent the last couple of years porting a lot of our service and host monitoring to <a href=\"https://sensuapp.org/\">Sensu</a>. Its solid API support meant we could write all sorts of tooling around it. We also liked the idea of standalone, client side checks that push their status to the Sensu alerting queue asynchronously. If you are new to Sensu or haven't ever read on it, <a href=\"https://sensuapp.org/docs/latest/overview\">this is a good place to start</a>.</p>\n\n<h3 id=\"typicalusageexample\">Typical usage example</h3>\n\n<p>The typical use I have for such standalone checks is health checks, a simple example looks like this in Sensu's client config</p>\n\n<pre><code>{\n  \"checks\": {\n    \"mysql_alive\": {\n      \"command\": \"mysql-alive.rb -h &lt;IP&gt; -d mysql -u :::mysql.user|sensu::: -p :::mysql.password:::\",\n      \"handlers\": [\n        \"default\"\n      ],\n      \"standalone\": true,\n      \"interval\": 10,\n      \"notification\": \"OMG MySQL is dead!\"\n    }\n  }\n}\n</code></pre>\n\n<p>But if you look closer, all you really do is tell Sensu to run a command. So this can be...any command. This will be useful in a just a moment.</p>\n\n<h3 id=\"whatiamsolving\">What I am solving</h3>\n\n<p>I have been traditionally using the crond service for running local management tasks on databases like rotating partitions and triggering backups. Along with that, we have a report that would check the logs of these jobs, on each backup replica, and make sure they ended in success messages. This is fragile due to a number of reasons:</p>\n\n<ul>\n<li>CronD doesn't have any built in monitoring. It does not have a concept of 'stale'</li>\n<li>Those reports - I will call them 'watchers' - are one more moving part adding complexity to the question 'when was the last successful backup of my DB?'</li>\n<li>This setup is prone to race conditions. You must time the task and its watcher in cron exactly or else the watcher can preemptively trigger an alert or signal failure when the backup is not done yet. Any drift in duration of the task will eventually make this happen (like a backup taking longer as a database grows).</li>\n<li>What if the watcher script didn't run? It is also in CronD - either on the same host or on another host, right? Either you find yourself in a rabbit hole of who watches the watchers, or a human has to notice that a report didn't come out...humans aren't good at remembering things.</li>\n<li>Changing the designation of a server means you must change it in a number of places or the watcher will watch the wrong host.</li>\n<li>We are striving to <a href=\"http://mcfunley.com/choose-boring-technology\">keep our stack boring</a>. While newer technologies like chronos and rundeck provide more enhanced scheduling, they also need a service discovery layer to do this right. That was a bigger undertaking and too much scope creep for what I was solving.</li>\n</ul>\n\n<p>So I decided to make Sensu work to my advantage, with the help of chef roles.</p>\n\n<h3 id=\"partitionrotationinsensu\">Partition rotation in Sensu</h3>\n\n<p>I started off by moving any credentials I need for my partition rotation script into Sensu's redacted configuration. This is good practice for <em>anything</em> you put into sensu that uses secrets. The credentials are added in <code>/etc/sensu/client.json</code> then are just referenced in check configurations using <code>:::secret_thingie:::</code> notation.</p>\n\n<p><em>_Protip_</em>: Sensu doesn't know what to redact in client.json. You must also define the name of the keys you want redacted. like this..</p>\n\n<pre><code>\"redact\": [\n  \"other_password\",\n  \"password\"\n]\n</code></pre>\n\n<p>This is also not a deep merged list. As you can see I had to explicitly include 'password' once I needed to add another key in that list.</p>\n\n<p>Then I needed to define the new Sensu check that rotates the partitions. I am using a chef resource as the code example.</p>\n\n<pre><code>sensu_check 'add_table_partitions' do  \n  command \"/usr/local/pdb/bin/pdb-parted --add --interval d +7d.startof h=localhost,u=specialdbuser,p=:::redacted_partition_password:::,D=mydb,t=special_table &gt;&gt; /var/log/partition_rotation.log 2&gt;&amp;1\"\n  handlers %w(default_handler special_dba_handler)\n  interval 86400\n  standalone true\n  additional(:occurrences =&gt; 3, :notification =&gt; \"#{node['hostname']} failed adding partitions to important table. See log file in /var/log/mail_send_cancel_pause.log\")\nend  \n</code></pre>\n\n<p>Let's inspect what just happened here...</p>\n\n<p><code>command</code>:  <a href=\"https://github.com/palominodb/PalominoDB-Public-Code-Repository/blob/master/tools/data_mgmt/t/pdb-parted/pdb-parted.t\">pdb-parted</a> is a very useful perl script by the folks from Palominodb (now at <a href=\"http://www.pythian.com/\">Pythian</a>) for rotating partitions in a MySQL DB. This is the same line I used to maintain in a crontab file configuration.</p>\n\n<p><code>interval</code>: how often this Sensu check runs. In this example these are daily partitions so running the script daily was sufficient. <em>The important part here is that your script is idempotent</em>. pdb-parted is. If it finds that the needed partitions already exists, it just outputs a message to that effect and exits nicely.</p>\n\n<p><code>occurrences</code>: This is the number of allowed failures before alerting. It is nice to have a buffer especially when I already configure the command to make partitions days/weeks in advance.  </p>\n\n<p>For those who use tools other than chef and want to see what the final check configuration looks like, here it is, important bits redacted:</p>\n\n<pre><code>{\n  \"checks\": {\n    \"add_table_partitions\": {\n      \"command\": \"/usr/local/pdb/bin/pdb-parted --add --interval m +7m.startof h=localhost,u=specialdbuser,p=:::redacted_partition_password:::,D=mydb,t=special_table &gt;&gt; /var/log/partition_rotation.log 2&gt;&amp;1\",\n      \"handlers\": [\n        \"default_handler\",\n        \"special_dba_handler\"\n      ],\n      \"standalone\": true,\n      \"interval\": 86400,\n      \"occurrences\": 3,\n      \"notification\": \"hostname failed adding partitions to special table. See log file in /var/log/partition_rotation.log\"\n    }\n  }\n}\n</code></pre>\n\n<p>Partition rotation now has built in monitoring. If this script exits with a non zero code, the Sensu handlers take care of getting this knowledge to the predefined group of people using the method we want. We already have multiple on-call team rotations set up and escalation paths and all the other stuff that comes along with monitoring at scale. So we got to just leverage all of that rather than reinventing the wheel.</p>\n\n<h3 id=\"plannedfutureimprovements\">Planned future improvements</h3>\n\n<p>No solution is perfect. Neither is this one.</p>\n\n<ul>\n<li>We still run the risk of more than one machine in a cluster holding the primary role. Until service discovery is in place, this is something we can build a check for leveraging chef search.</li>\n<li>Now that tasks like backups are running in a first class citizen tool in our stack, I can more easily add stats and get graphs for how long backups take, how big backups are to make capacity planning and MTTR tracking easier.</li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2015-11-03 21:25:16","created_by":1,"updated_at":"2015-11-04 21:09:10","updated_by":1,"published_at":"2015-11-03 21:31:47","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":7,"uuid":"058f7c16-d3fb-407a-9e66-2d9e41ac7500","title":"2015 in review...2016 here I come","slug":"2015-review","markdown":"\n_This post is inspired by quite a few great posts like this one by [Ryn Daniels](http://beero.ps/2016/01/01/on-to-2016/) and [Lara Hogan](http://larahogan.me/blog/2014-2015/)_\n\n2015 was a year of lots of changes and lots of growing for me, both professionally and personally. It also had a lot of firsts for me.\n\n\n### Going remote\n\nLate in 2014, I announced to Sendgrid that I am about to move to South Florida where my husband has been working for months. Sendgrid, while distributed in multiple offices, always had all its employees in one of these offices, no truly remote employees. So this was new territory and it was a new challenge given how I am usually collaborating with more than just the Operations team.\n\nAfter a year, while I do not declare it an absolute success, i feel that I would not still be working at Sendgrid if it weren't for my team's and managers' support. It is easy to declare someone a 'good employee', with all the different meanings different companies embue that term with. But the support I got from the team was absolutely crucial to my ability to continue providing value to the company.\n\n\n### First Tech conference\n\nPeople still get surprised when they hear this but until June of 2015, I had not been to a single tech conference. A combination of being permanently busy, being a mom, moving across country more than a couple of times\nhave led to having no time to properly plan any tech conference attendance. Finally I took the plunge and I picked [Monitorama](http://monitorama.com/) as my first one.\n\nThe talks were great. One talk I couldn't stop referring to since returning was [\"Engineering happiness\"](https://vimeo.com/131484322) By Laura Thompson of Mozilla. I could see myself, post and present co workers in the examples she provided on how a happy engineer slowly becomes less happy with the status quo. One of the first things I did once I returned to work, was share that video with my team lead and engineering leader at the time. I felt it was important to share her advice and to internalize it.\n\n\nHowever, conferences are not just about the talks. While I learned a lot in those, I found the hallway track the real gem of that trip and the reason that conference has left lasting memories with me.\n\nI got to meet lots of people I had been following on twitter for a while that I already learned a lot from, and looked up to. I had a LOT of fun talking about being a woman in the ops community with [Katherine Daniels](https://twitter.com/beerops) and [Jennifer Davis](https://twitter.com/sigje). Who are about to publish a [book](http://shop.oreilly.com/product/0636920039846.do) I am looking forward to. Another set of conversations that were very educational and have pushed some of my 2016 plans was talking about team leadership and management challenges with Roy Rapaport of Netflix.\n\n\nThere are too many people to list here that I enjoyed meeting and talking to at Monitorama. And a lot of those conversations shaped and guided things I have done the rest of the year and things I have planned for 2016. \nI cannot recommend enough how great this conference was. Hat tip to [Jason Dixon](https://twitter.com/obfuscurity) for creating that great environment and all the #hugops\n\n### Blog and blog posts\n\nI started this blog early in 2015. It was not the first time I start a blog and I was not sure if I was gonna keep it up. But then I wrote a blog post for my company and I decided that maybe I will want to write more. \n\nYes part of that is building personal brand but I was also sometimes frustrated by talking about important things in Devops or in database architecture in 140 character pieces. Yes I did start the blog early in 2015 but it was a blog post by Lara Hogan about [celebrating our achievements](http://larahogan.me/blog/celebrate-achievements/), conversations with my boss in late 2014 and a personal conversation with Jennifer Davis that convinced me that I do have things to say and that my experience so far at Sendgrid could be beneficial to others who are just starting as DBAs. \n\nMost of what I wrote this year was technical or 'lessons learned' in the roller coaster of managing databases at a fast growing company. But I also wrote one post that is near and dear to my heard about [burnout](https://blog.dbsmasher.com/2015/07/29/on-burnout/) that got me to face how much I needed to take care of me at the same level of commitment I was taking care of servers and databases.\n\n### 2016 Plans\n* Give a tech conference talk. I submitted my [first ever abstract ](https://www.percona.com/live/data-performance-conference-2016/sessions/bringing-devops-dbas-chef). Don't know yet if it will be accepted but I am excited to go to PLCME for the first time nonetheless\n* Take better care of me. We hired our second DBA at Sendgrid late 2015. The signs of burnout on me were clear. Nothing is clearer when one performance review says \"I fear that Silvia works too hard. She needs to take care of herself\" 😊. With onboarding the new member, I hope to be able to split the never ending list of things we need to get done in 2016\n* A deeper focus on architecture and automation. I have spent a huge portion of the last few years working with engineers on schema design and bringing the first step of database configuration management to fruition. But a mature infrastructure is more than just configuration management and I hope to be able to grow more skills in larger system design, making the database layer more robust and a true PaaS layer\n* Write more technical blog posts. We do so much at Sendgrid. I think we can share lots of lessons learned and I hope I can help with that.\n* Get closer to becoming Staff Engineer. \n* Much more...","html":"<p><em>This post is inspired by quite a few great posts like this one by <a href=\"http://beero.ps/2016/01/01/on-to-2016/\">Ryn Daniels</a> and <a href=\"http://larahogan.me/blog/2014-2015/\">Lara Hogan</a></em></p>\n\n<p>2015 was a year of lots of changes and lots of growing for me, both professionally and personally. It also had a lot of firsts for me.</p>\n\n<h3 id=\"goingremote\">Going remote</h3>\n\n<p>Late in 2014, I announced to Sendgrid that I am about to move to South Florida where my husband has been working for months. Sendgrid, while distributed in multiple offices, always had all its employees in one of these offices, no truly remote employees. So this was new territory and it was a new challenge given how I am usually collaborating with more than just the Operations team.</p>\n\n<p>After a year, while I do not declare it an absolute success, i feel that I would not still be working at Sendgrid if it weren't for my team's and managers' support. It is easy to declare someone a 'good employee', with all the different meanings different companies embue that term with. But the support I got from the team was absolutely crucial to my ability to continue providing value to the company.</p>\n\n<h3 id=\"firsttechconference\">First Tech conference</h3>\n\n<p>People still get surprised when they hear this but until June of 2015, I had not been to a single tech conference. A combination of being permanently busy, being a mom, moving across country more than a couple of times <br />\nhave led to having no time to properly plan any tech conference attendance. Finally I took the plunge and I picked <a href=\"http://monitorama.com/\">Monitorama</a> as my first one.</p>\n\n<p>The talks were great. One talk I couldn't stop referring to since returning was <a href=\"https://vimeo.com/131484322\">\"Engineering happiness\"</a> By Laura Thompson of Mozilla. I could see myself, post and present co workers in the examples she provided on how a happy engineer slowly becomes less happy with the status quo. One of the first things I did once I returned to work, was share that video with my team lead and engineering leader at the time. I felt it was important to share her advice and to internalize it.</p>\n\n<p>However, conferences are not just about the talks. While I learned a lot in those, I found the hallway track the real gem of that trip and the reason that conference has left lasting memories with me.</p>\n\n<p>I got to meet lots of people I had been following on twitter for a while that I already learned a lot from, and looked up to. I had a LOT of fun talking about being a woman in the ops community with <a href=\"https://twitter.com/beerops\">Katherine Daniels</a> and <a href=\"https://twitter.com/sigje\">Jennifer Davis</a>. Who are about to publish a <a href=\"http://shop.oreilly.com/product/0636920039846.do\">book</a> I am looking forward to. Another set of conversations that were very educational and have pushed some of my 2016 plans was talking about team leadership and management challenges with Roy Rapaport of Netflix.</p>\n\n<p>There are too many people to list here that I enjoyed meeting and talking to at Monitorama. And a lot of those conversations shaped and guided things I have done the rest of the year and things I have planned for 2016. <br />\nI cannot recommend enough how great this conference was. Hat tip to <a href=\"https://twitter.com/obfuscurity\">Jason Dixon</a> for creating that great environment and all the #hugops</p>\n\n<h3 id=\"blogandblogposts\">Blog and blog posts</h3>\n\n<p>I started this blog early in 2015. It was not the first time I start a blog and I was not sure if I was gonna keep it up. But then I wrote a blog post for my company and I decided that maybe I will want to write more. </p>\n\n<p>Yes part of that is building personal brand but I was also sometimes frustrated by talking about important things in Devops or in database architecture in 140 character pieces. Yes I did start the blog early in 2015 but it was a blog post by Lara Hogan about <a href=\"http://larahogan.me/blog/celebrate-achievements/\">celebrating our achievements</a>, conversations with my boss in late 2014 and a personal conversation with Jennifer Davis that convinced me that I do have things to say and that my experience so far at Sendgrid could be beneficial to others who are just starting as DBAs. </p>\n\n<p>Most of what I wrote this year was technical or 'lessons learned' in the roller coaster of managing databases at a fast growing company. But I also wrote one post that is near and dear to my heard about <a href=\"https://blog.dbsmasher.com/2015/07/29/on-burnout/\">burnout</a> that got me to face how much I needed to take care of me at the same level of commitment I was taking care of servers and databases.</p>\n\n<h3 id=\"2016plans\">2016 Plans</h3>\n\n<ul>\n<li>Give a tech conference talk. I submitted my <a href=\"https://www.percona.com/live/data-performance-conference-2016/sessions/bringing-devops-dbas-chef\">first ever abstract </a>. Don't know yet if it will be accepted but I am excited to go to PLCME for the first time nonetheless</li>\n<li>Take better care of me. We hired our second DBA at Sendgrid late 2015. The signs of burnout on me were clear. Nothing is clearer when one performance review says \"I fear that Silvia works too hard. She needs to take care of herself\" 😊. With onboarding the new member, I hope to be able to split the never ending list of things we need to get done in 2016</li>\n<li>A deeper focus on architecture and automation. I have spent a huge portion of the last few years working with engineers on schema design and bringing the first step of database configuration management to fruition. But a mature infrastructure is more than just configuration management and I hope to be able to grow more skills in larger system design, making the database layer more robust and a true PaaS layer</li>\n<li>Write more technical blog posts. We do so much at Sendgrid. I think we can share lots of lessons learned and I hope I can help with that.</li>\n<li>Get closer to becoming Staff Engineer. </li>\n<li>Much more...</li>\n</ul>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2016-01-04 16:04:51","created_by":1,"updated_at":"2017-12-01 22:46:36","updated_by":1,"published_at":"2016-01-04 18:22:21","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":8,"uuid":"3b168258-b9f9-4fa4-ba75-5566f46da594","title":"Capacity planning for databases","slug":"capacity-planning-databases","markdown":"_Note:_ This is inspired by Julia Evans' recent post about ....[capacity planning](http://jvns.ca/blog/2016/03/20/how-do-you-do-capacity-planning/) 😌\n\n\n### Ground rules\n\n#### RDBMS\nYes..this post is geared for those of us who use MySQL with a single writer at a time and 2 or more read replicas. A lot of what I will talk about here applies differently, or not at all, to multi writer clustered datastores, although those also come with their own set of compromises and caveats. So...your milage will definitely vary.\n\n#### Sharding\n\nI have already covered large strokes of this in one of my [earlier posts](https://blog.dbsmasher.com/2015/02/08/scaling-mysql-at-sendgrid/), I mostly focused there on the benefits of functional or horizontal sharding. Yes that is a prerequisite, since what you use to access the database layer WILL decide how much flexibility you have to scale.\n\nIf you are a company that experiences large differences between peak and average traffic, you should be prepared to leave the paradigm of 'the database' as a single physical entity behind.\n\n#### Ability to split reads and writes\n\nThis is something you will need to be able to do, but not necessarily enforce as a set in stone rule. There will be use cases where a write needs to be read very soon after and where tolerance for things like lag/eventual consistency is low. Those are ok to have, but in the same applications, you will also have scenarios for reads that *can* tolerate some longer time span of eventual consistency. When such reads are in high volume, do you really want that volume going to your single writer if it doesn't really have to? Do yourself a favor, and make sure soon in your growth days that you can control the use of a read or write IP in your code.\n\nNow onto the thought process of actual capacity planning...\n\n**A database cluster is not keeping up. what do I do?**\n\n#### Determine the system bottleneck\n\n* Is the issue high CPU?\n* Is it IO capacity?\n* Is it growing lag without a clear query culprit?\n* Is is locks?\n* How do I know which it is?\n\n#### You need a baseline\nOnce you know what system metric you are mostly bound to, you need to establish baseline and peak values. Otherwise, determining whether your current issue is a bug vs real growth is going to be a lot more error prone than you'd like.\n\nBasic server metrics can only go so far but at some point you will find you also need context based metrics. Query performance and app side perceived performance will tell you what the application sees as a response time to queries.\n\n#### Learn your business traffic patterns\nAre you a business that is susceptible to peaks in specific weekdays (marketing)? do you have regular launches that triple or quadruple your traffic like gaming? These sorts of questions will drive how much of reserved headroom you should keep or whether you need to invest in elastic growth.  \n\n#### Determine the ratio of raw traffic numbers in relation to capacity in use\nThis is simply the answer to \"If we made no code optimizations, how many emails/sales/whatever\" can we serve with the database instance we have right now?\n\nIdeally, this a specific value that makes the math towards planning a year's growth a simple math equation. But life is never ideal and this value will vary depending on season or completely external happy factors like signing up a new major customer. In early startups this number is a faster moving target but it should stabilize as the company transitions from early days to more established business with more predictable business growth patterns.\n\n#### Do I really need to buy more machines?\nYou need to find a way to determine if this is truly capacity (I need to split the writes to support more concurrent write load or add more read replicas) vs code based performance bottleneck (this new query can really have its results cached in something cheaper and not beat the database as much).\n\nHow do you do that? You need to get familiar with your queries. The baby step for that is a combination of [innotop](http://innotop.googlecode.com/svn/html/manual.html), slow log and the [percona toolkit](https://www.percona.com/software/mysql-tools/percona-toolkit)'s pt-query-digest. You can automate this by shipping the DB logs to a central location and automating the digest portion.\n\nBut that is also not the entire picture, slow logs are performance intensive if you lower their threshold too much. If you need less selective sampling you will need to detect the entire conversations between the application and the datastore. In open source land you can go as basic as tcpdump or you can use hosted products like datadog, newrelic or vivid cortex.\n\n#### Make a call\nCapacity planning can be 90% science and 10% art but that 10% shouldn't mean that we shouldn't strive for as much of the picture as we can. As engineers we can sometimes fixate on the missing 10% and not realize that if we did the work, that 90% can get us v far into a better idea of our stack's health, a more efficient use of our time optimizing performance and planning capacity increases carefully which eventually results in much better return on investment for our products. \n","html":"<p><em>Note:</em> This is inspired by Julia Evans' recent post about ....<a href=\"http://jvns.ca/blog/2016/03/20/how-do-you-do-capacity-planning/\">capacity planning</a> 😌</p>\n\n<h3 id=\"groundrules\">Ground rules</h3>\n\n<h4 id=\"rdbms\">RDBMS</h4>\n\n<p>Yes..this post is geared for those of us who use MySQL with a single writer at a time and 2 or more read replicas. A lot of what I will talk about here applies differently, or not at all, to multi writer clustered datastores, although those also come with their own set of compromises and caveats. So...your milage will definitely vary.</p>\n\n<h4 id=\"sharding\">Sharding</h4>\n\n<p>I have already covered large strokes of this in one of my <a href=\"https://blog.dbsmasher.com/2015/02/08/scaling-mysql-at-sendgrid/\">earlier posts</a>, I mostly focused there on the benefits of functional or horizontal sharding. Yes that is a prerequisite, since what you use to access the database layer WILL decide how much flexibility you have to scale.</p>\n\n<p>If you are a company that experiences large differences between peak and average traffic, you should be prepared to leave the paradigm of 'the database' as a single physical entity behind.</p>\n\n<h4 id=\"abilitytosplitreadsandwrites\">Ability to split reads and writes</h4>\n\n<p>This is something you will need to be able to do, but not necessarily enforce as a set in stone rule. There will be use cases where a write needs to be read very soon after and where tolerance for things like lag/eventual consistency is low. Those are ok to have, but in the same applications, you will also have scenarios for reads that <em>can</em> tolerate some longer time span of eventual consistency. When such reads are in high volume, do you really want that volume going to your single writer if it doesn't really have to? Do yourself a favor, and make sure soon in your growth days that you can control the use of a read or write IP in your code.</p>\n\n<p>Now onto the thought process of actual capacity planning...</p>\n\n<p><strong>A database cluster is not keeping up. what do I do?</strong></p>\n\n<h4 id=\"determinethesystembottleneck\">Determine the system bottleneck</h4>\n\n<ul>\n<li>Is the issue high CPU?</li>\n<li>Is it IO capacity?</li>\n<li>Is it growing lag without a clear query culprit?</li>\n<li>Is is locks?</li>\n<li>How do I know which it is?</li>\n</ul>\n\n<h4 id=\"youneedabaseline\">You need a baseline</h4>\n\n<p>Once you know what system metric you are mostly bound to, you need to establish baseline and peak values. Otherwise, determining whether your current issue is a bug vs real growth is going to be a lot more error prone than you'd like.</p>\n\n<p>Basic server metrics can only go so far but at some point you will find you also need context based metrics. Query performance and app side perceived performance will tell you what the application sees as a response time to queries.</p>\n\n<h4 id=\"learnyourbusinesstrafficpatterns\">Learn your business traffic patterns</h4>\n\n<p>Are you a business that is susceptible to peaks in specific weekdays (marketing)? do you have regular launches that triple or quadruple your traffic like gaming? These sorts of questions will drive how much of reserved headroom you should keep or whether you need to invest in elastic growth.  </p>\n\n<h4 id=\"determinetheratioofrawtrafficnumbersinrelationtocapacityinuse\">Determine the ratio of raw traffic numbers in relation to capacity in use</h4>\n\n<p>This is simply the answer to \"If we made no code optimizations, how many emails/sales/whatever\" can we serve with the database instance we have right now?</p>\n\n<p>Ideally, this a specific value that makes the math towards planning a year's growth a simple math equation. But life is never ideal and this value will vary depending on season or completely external happy factors like signing up a new major customer. In early startups this number is a faster moving target but it should stabilize as the company transitions from early days to more established business with more predictable business growth patterns.</p>\n\n<h4 id=\"doireallyneedtobuymoremachines\">Do I really need to buy more machines?</h4>\n\n<p>You need to find a way to determine if this is truly capacity (I need to split the writes to support more concurrent write load or add more read replicas) vs code based performance bottleneck (this new query can really have its results cached in something cheaper and not beat the database as much).</p>\n\n<p>How do you do that? You need to get familiar with your queries. The baby step for that is a combination of <a href=\"http://innotop.googlecode.com/svn/html/manual.html\">innotop</a>, slow log and the <a href=\"https://www.percona.com/software/mysql-tools/percona-toolkit\">percona toolkit</a>'s pt-query-digest. You can automate this by shipping the DB logs to a central location and automating the digest portion.</p>\n\n<p>But that is also not the entire picture, slow logs are performance intensive if you lower their threshold too much. If you need less selective sampling you will need to detect the entire conversations between the application and the datastore. In open source land you can go as basic as tcpdump or you can use hosted products like datadog, newrelic or vivid cortex.</p>\n\n<h4 id=\"makeacall\">Make a call</h4>\n\n<p>Capacity planning can be 90% science and 10% art but that 10% shouldn't mean that we shouldn't strive for as much of the picture as we can. As engineers we can sometimes fixate on the missing 10% and not realize that if we did the work, that 90% can get us v far into a better idea of our stack's health, a more efficient use of our time optimizing performance and planning capacity increases carefully which eventually results in much better return on investment for our products. </p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2016-03-25 03:14:39","created_by":1,"updated_at":"2016-03-25 03:17:11","updated_by":1,"published_at":"2016-03-25 03:17:11","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":9,"uuid":"1157876a-5f7b-42ed-afd4-c40d9165d8ac","title":"You've been upgraded to the latest version of Ghost","slug":"ghost-0-7","markdown":"You've just upgraded to the latest version of Ghost and we've made a few changes that you should probably know about!\n\n## Woah, why does everything look different?\n\nAfter two years and hundreds of thousands of users, we learned a great deal about what was (and wasn't) working in the old Ghost admin user interface. What you're looking at is Ghost's first major UI refresh, with a strong focus on being more usable and robust all round.\n\n![New Design](https://ghost.org/images/zelda.png)\n\nThe main navigation menu, previously located at the top of your screen, has now moved over to the left. This makes it way easier to work with on mobile devices, and has the added benefit of providing ample space for upcoming features!\n\n## Lost and found: Your old posts\n\nFrom talking to many of you we understand that finding old posts in the admin area was a real pain; so we've added a new magical search bar which lets you quickly find posts for editing, without having to scroll endlessly. Take it for a spin!\n\n![Search](https://ghost.org/images/search.gif)\n\nQuestions? Comments? Send us a tweet [@TryGhost](https://twitter.com/tryghost)\n\nOh, and yes – you can safely delete this draft post!","html":"<p>You've just upgraded to the latest version of Ghost and we've made a few changes that you should probably know about!</p>\n\n<h2 id=\"woahwhydoeseverythinglookdifferent\">Woah, why does everything look different?</h2>\n\n<p>After two years and hundreds of thousands of users, we learned a great deal about what was (and wasn't) working in the old Ghost admin user interface. What you're looking at is Ghost's first major UI refresh, with a strong focus on being more usable and robust all round.</p>\n\n<p><img src=\"https://ghost.org/images/zelda.png\" alt=\"New Design\" /></p>\n\n<p>The main navigation menu, previously located at the top of your screen, has now moved over to the left. This makes it way easier to work with on mobile devices, and has the added benefit of providing ample space for upcoming features!</p>\n\n<h2 id=\"lostandfoundyouroldposts\">Lost and found: Your old posts</h2>\n\n<p>From talking to many of you we understand that finding old posts in the admin area was a real pain; so we've added a new magical search bar which lets you quickly find posts for editing, without having to scroll endlessly. Take it for a spin!</p>\n\n<p><img src=\"https://ghost.org/images/search.gif\" alt=\"Search\" /></p>\n\n<p>Questions? Comments? Send us a tweet <a href=\"https://twitter.com/tryghost\">@TryGhost</a></p>\n\n<p>Oh, and yes – you can safely delete this draft post!</p>","image":null,"featured":0,"page":0,"status":"draft","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2016-11-05 01:43:48","created_by":1,"updated_at":"2017-05-11 19:50:29","updated_by":1,"published_at":"2016-11-05 01:43:48","published_by":null,"visibility":"public","mobiledoc":null,"amp":null},{"id":10,"uuid":"9383009d-6d77-40f0-ae67-86daa4d9c5ef","title":"On being on call","slug":"on-being-on-call","markdown":"In case you don't follow [SysAdvent](https://sysadvent.blogspot.com/) (in which case, why?? you are missing out on great content every year!), the post on December 6th this year was by [Alice Goldfuss](https://sysadvent.blogspot.com/2016/12/day-6-no-more-on-call-martyrs.html). I have tweeted a link to that post that day and since then my tweet has been quoted, responded to and the ensuing 'conversation' has been eyeopening.\n\nA lot of the response has been anger that an operations engineer is advocating for putting developers on call. A lot were quick to suggest that this is a quick way to lose engineers, that it advocates a terrible quality of life, that it stomps on work/life balance and that it ultimately doesn't serve to improve code quality.\n\nThe most surprising response was suggesting that this call comes from the privilege of not having family/kids responsibilities which I suppose implies only the single people are in ops and carrying pagers.\n\nI can go on and on about how little empathy I have seen from people who are supposed to be fellow engineers towards their fellow human ops people\n\nI can go on and on about how many naively suggested that testing and 'QA' are sufficient to not need the people who wrote the code to own their work in the real world environment of a system of scale\n\nI can go on and on about what it says about people who presumes Alice meant \"give the developer a pager and send off into the night\"...I suppose that's fine when you do it to the ops gal instead.\n\nThere is a lot to unpack in these responses, many of which disappointing from engineers I respect, but I want to pinpoint 2 things\n\nWhat does it mean to put engineers on call\n\nNO it does not mean spite and no it is not punishment for bugs and no it is not a call for dissolving the lines between life and work. I have written about my experience with burnout before and I wish that on no one.\n\nWhat it means to put engineers who write the code on call is that they are the subject matter experts on what is running in production. They know when error foo happens it means the cache layer failed, DNS is taking too long or maybe that the other microservice in that product comprised of about a dozen of them is the one silently failing. You may think an architecture diagram can make stuff like this clear as day but when YOU, the person on the team who has been building this thing for 2 quarters has to look at your own architecture diagram one quarter later to grok which microservice has failed you will realize why you should be paged first.\n\nThis does not mean at all that Ops wants nothing to do with your application paging out at 3 AM. We put our delivery engineering teams (the term 'delivery' here is deliberate and very appropriate) on call but they always have an escalation path to ops that is not gated by a timer. Ops still has your back. If you think this is a network problem you are not familiar with, you can immediately page the on call ops engineer and she will help verify where the broken zeros and ones are.\n\nThis is not an effort to spite those who dare push a bug to production. Anyone who has been responsible for production environments knows that will happen. Hell, you don't even HAVE to introduce bugs through a deploy, really. Unforeseen changes in your environment will cause presumptions to stop being valid and take both those who wrote the code and those with less knowledge of it (Ops) by surprise.\n\nWhat this does mean is that we are explicitly saying that the code is useless unless it provides the customers the value they paid for. And when a C level executive has to explain to customers why an outage took X time to resolve, \"we couldn't get the engineering team involved for some time\" is not an acceptable answer.\n\nYour code and my servers and databases are a risk center unless we are both invested in making them run. It is as simple as that.\n\nWhat does it mean to be a senior engineer\n\nIt honestly frightened me that people who are senior engineers are balking so hard at giving developers pagers. Maybe they fell for the hyperbole of \"we now don't want developers to sleep either\", maybe they've been on call in difficult environments before and that's the PTSD talking. But I do not believe that any engineer should be called 'senior', by title or by implication if they refuse to be reachable in a team rotation in case their own work caused a customer facing issue.\n\nNote my words because I am trying my best to choose them carefully. 'customer facing issue'. You can't give people pagers without making sure you are not paging on bullshit signals that aren't actually affecting the customers and the business. And surprise, ops engineers are people too.\n\nSo what does this mean? If you fail to see how your code is more than the sum of its functions and test. That it needs to provide real value. If you insist that someone else be the first line of defense when it breaks, then you are failing to acknowledge that as a senior engineer, your job is more than producing code. You are setting a terrible example for junior engineers on your team. They will now learn the lesson of \"I don't have to own that my code provides value once it's in production\". The damage that mentality will do to an engineering organization is lasting and will take a long time before anyone realizes it is the root for a LOT of tech debt and it takes years to also reverse.\n\nIf you are a manager promoting engineers to senior titles and an emphasis on ownership, including stability, is not a non-negotiable criterion of that promotion then you are damaging your organization. And if you think that a sense of ownership and truly understanding what it takes to create stable systems of scale can happen without ever being paged by a service in production then I am not sure why you are in charge of engineers supposedly building such systems of scale.\n\nFinally, no one is saying this all ignores our lives outside work. In fact, the opposite. Ops engineers have lives too. We are men and women with spouses and babies who get sick and sometimes are solo parenting. Mature teams have each others' backs. Mature teams will override set on call shifts when life strikes and that is applauded.\n\nWhat I (and I think Alice) are saying is \"do not systematically make it acceptable to throw code at the production wall\"....not let's page developers at 3 AM out of spite.\n","html":"<p>In case you don't follow <a href=\"https://sysadvent.blogspot.com/\">SysAdvent</a> (in which case, why?? you are missing out on great content every year!), the post on December 6th this year was by <a href=\"https://sysadvent.blogspot.com/2016/12/day-6-no-more-on-call-martyrs.html\">Alice Goldfuss</a>. I have tweeted a link to that post that day and since then my tweet has been quoted, responded to and the ensuing 'conversation' has been eyeopening.</p>\n\n<p>A lot of the response has been anger that an operations engineer is advocating for putting developers on call. A lot were quick to suggest that this is a quick way to lose engineers, that it advocates a terrible quality of life, that it stomps on work/life balance and that it ultimately doesn't serve to improve code quality.</p>\n\n<p>The most surprising response was suggesting that this call comes from the privilege of not having family/kids responsibilities which I suppose implies only the single people are in ops and carrying pagers.</p>\n\n<p>I can go on and on about how little empathy I have seen from people who are supposed to be fellow engineers towards their fellow human ops people</p>\n\n<p>I can go on and on about how many naively suggested that testing and 'QA' are sufficient to not need the people who wrote the code to own their work in the real world environment of a system of scale</p>\n\n<p>I can go on and on about what it says about people who presumes Alice meant \"give the developer a pager and send off into the night\"...I suppose that's fine when you do it to the ops gal instead.</p>\n\n<p>There is a lot to unpack in these responses, many of which disappointing from engineers I respect, but I want to pinpoint 2 things</p>\n\n<p>What does it mean to put engineers on call</p>\n\n<p>NO it does not mean spite and no it is not punishment for bugs and no it is not a call for dissolving the lines between life and work. I have written about my experience with burnout before and I wish that on no one.</p>\n\n<p>What it means to put engineers who write the code on call is that they are the subject matter experts on what is running in production. They know when error foo happens it means the cache layer failed, DNS is taking too long or maybe that the other microservice in that product comprised of about a dozen of them is the one silently failing. You may think an architecture diagram can make stuff like this clear as day but when YOU, the person on the team who has been building this thing for 2 quarters has to look at your own architecture diagram one quarter later to grok which microservice has failed you will realize why you should be paged first.</p>\n\n<p>This does not mean at all that Ops wants nothing to do with your application paging out at 3 AM. We put our delivery engineering teams (the term 'delivery' here is deliberate and very appropriate) on call but they always have an escalation path to ops that is not gated by a timer. Ops still has your back. If you think this is a network problem you are not familiar with, you can immediately page the on call ops engineer and she will help verify where the broken zeros and ones are.</p>\n\n<p>This is not an effort to spite those who dare push a bug to production. Anyone who has been responsible for production environments knows that will happen. Hell, you don't even HAVE to introduce bugs through a deploy, really. Unforeseen changes in your environment will cause presumptions to stop being valid and take both those who wrote the code and those with less knowledge of it (Ops) by surprise.</p>\n\n<p>What this does mean is that we are explicitly saying that the code is useless unless it provides the customers the value they paid for. And when a C level executive has to explain to customers why an outage took X time to resolve, \"we couldn't get the engineering team involved for some time\" is not an acceptable answer.</p>\n\n<p>Your code and my servers and databases are a risk center unless we are both invested in making them run. It is as simple as that.</p>\n\n<p>What does it mean to be a senior engineer</p>\n\n<p>It honestly frightened me that people who are senior engineers are balking so hard at giving developers pagers. Maybe they fell for the hyperbole of \"we now don't want developers to sleep either\", maybe they've been on call in difficult environments before and that's the PTSD talking. But I do not believe that any engineer should be called 'senior', by title or by implication if they refuse to be reachable in a team rotation in case their own work caused a customer facing issue.</p>\n\n<p>Note my words because I am trying my best to choose them carefully. 'customer facing issue'. You can't give people pagers without making sure you are not paging on bullshit signals that aren't actually affecting the customers and the business. And surprise, ops engineers are people too.</p>\n\n<p>So what does this mean? If you fail to see how your code is more than the sum of its functions and test. That it needs to provide real value. If you insist that someone else be the first line of defense when it breaks, then you are failing to acknowledge that as a senior engineer, your job is more than producing code. You are setting a terrible example for junior engineers on your team. They will now learn the lesson of \"I don't have to own that my code provides value once it's in production\". The damage that mentality will do to an engineering organization is lasting and will take a long time before anyone realizes it is the root for a LOT of tech debt and it takes years to also reverse.</p>\n\n<p>If you are a manager promoting engineers to senior titles and an emphasis on ownership, including stability, is not a non-negotiable criterion of that promotion then you are damaging your organization. And if you think that a sense of ownership and truly understanding what it takes to create stable systems of scale can happen without ever being paged by a service in production then I am not sure why you are in charge of engineers supposedly building such systems of scale.</p>\n\n<p>Finally, no one is saying this all ignores our lives outside work. In fact, the opposite. Ops engineers have lives too. We are men and women with spouses and babies who get sick and sometimes are solo parenting. Mature teams have each others' backs. Mature teams will override set on call shifts when life strikes and that is applauded.</p>\n\n<p>What I (and I think Alice) are saying is \"do not systematically make it acceptable to throw code at the production wall\"....not let's page developers at 3 AM out of spite.</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2016-12-07 18:36:35","created_by":1,"updated_at":"2016-12-07 19:15:31","updated_by":1,"published_at":"2016-12-07 18:38:21","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":11,"uuid":"7bcd47c8-aedd-4bed-9005-33a1eb8745d5","title":"Chef audit mode","slug":"untitled-chef-audit-mode","markdown":"I have spoken before about how important it is for me and my team to make as many parts of the database stack match our larger infrastructure. One of the most crucial ways to do this is to make sure that not only are we deploying and managing databases using configuraton management, but that the cookbooks remain in lock step with changes our cookbooks at large move towards.\n\nWhen i first learned chef, the way to test your chef cookbooks was [chef minitest](https://github.com/chef/minitest-chef-handler). But that is [now deprecated](https://github.com/chef/minitest-chef-handler/blob/master/README.md#deprecation-notice) and is no longer the recommended test method of chef cookbooks. So what is a DBA who is not always in tune with chef land to do? learn from her teammates of course! 😀\n\nWith the help of our ops engineering team members, I was directed at some examples in newer cookbooks we have and to the resources supported by InSpec which is what chef-audit is based on.\n\n_So how does chef audit mode work?_\n\nChef audit works exactly like recipe code. In fact, you can write the audit code right inside the recipe it is auditing. It is very natural in its language which makes it very easy to write *before* the actual chef code (hint hint: TDD FTW!) and it has lots of [resource types](http://serverspec.org/resource_types.html) which make for simple, easy to read and maintain, tests.\n\n_So if I have a cookbook that was using minitest, how can I make it move to chef audit?_\n\nYou need to decide where your audit code will live. Your options are:\n\n* One gigantic audit recipe that is included in your runlist however you normally include recipes in the cookbook. This option will put all the code in one file but can get unwieldy and large as a cookbook gets more complex\n\n* An `_audit_foo.rb` recipe for every `foo.rb` recipe you already have. The audit ones have to be separately included as well. This is arguably the most organized manner to do this and can work very well for books with lots of internal recipes where one large audit file can get very large. But it can also feel like recipe sprawl.\n\n* Add the audit code directly inside each recipe. This is nice because you can then see in the same file both the code that makes the changes and the audits that run to validate the policies around these changes. But again, this can get harder to use if the individual recipe is long or complex\n\nEach of these, as you can see, have pros and cons. The good thing about this flexibility is that you can pick what works best for your cookbook or organization :D\n\nNow onto an example...or two...\n\nSay you have this code block in a recipe to drop a script file in a specific spot and make it executable.\n```ruby\ncookbook_file '/usr/local/bin/test_backup.sh' do\n  source 'test_backup.sh'\n  owner 'mysql'\n  group 'mysql'\n  mode 0o755\n  action :create\nend\n```\n\nThe code to audit this block would look like this\n```ruby\ncontrol_group 'MySQL BackupTests : Archive access' do\n  control 'test_backup.sh' do\n      describe file('/usr/local/bin/test_backup.sh') do\n        it { should exist }\n        it { should be_file }\n        it { should be_executable }\n        it { should be_owned_by 'mysql' }\n      end\n    end\nend\n```\n\nAs you can see, the audit part is very natural in its language, and the resources are quite simple to use. So how do we tell chef to run this audit code in our test environment?\n\nPresuming you use test kitchen, you need to edit that config to enable audit mode.\nUnder the provisioner section of your `.kitchen.yml` config file, add these 2 lines:\n\n```\nclient_rb:\n  audit_mode: :enabled\n```\n\nSo what are the advantages of audit_mode vs the old minitests? well besides the fact that minitest is deprecated, I find that having the test code as part of the recipe tree (and better yet, can even be *in* the recipe directly) gives a very nice single view of what every recipe should look like and what my view of the state of the host should be based on that. That should come even handier for anyone trying to look at a cookbook I wrote and understand what the cookbook is supposed to do.\n\nAa I started a journey with chef [a few years back](https://dbsmasher.com/2015/02/12/-learning-configuration-management-as-a-dba/), converting my knowledge on how to build our databases into repeatable cookbooks, I will be spending the next months with the rest of our data ops team converting our resources into chef audit code.\n","html":"<p>I have spoken before about how important it is for me and my team to make as many parts of the database stack match our larger infrastructure. One of the most crucial ways to do this is to make sure that not only are we deploying and managing databases using configuraton management, but that the cookbooks remain in lock step with changes our cookbooks at large move towards.</p>\n\n<p>When i first learned chef, the way to test your chef cookbooks was <a href=\"https://github.com/chef/minitest-chef-handler\">chef minitest</a>. But that is <a href=\"https://github.com/chef/minitest-chef-handler/blob/master/README.md#deprecation-notice\">now deprecated</a> and is no longer the recommended test method of chef cookbooks. So what is a DBA who is not always in tune with chef land to do? learn from her teammates of course! 😀</p>\n\n<p>With the help of our ops engineering team members, I was directed at some examples in newer cookbooks we have and to the resources supported by InSpec which is what chef-audit is based on.</p>\n\n<p><em>So how does chef audit mode work?</em></p>\n\n<p>Chef audit works exactly like recipe code. In fact, you can write the audit code right inside the recipe it is auditing. It is very natural in its language which makes it very easy to write <em>before</em> the actual chef code (hint hint: TDD FTW!) and it has lots of <a href=\"http://serverspec.org/resource_types.html\">resource types</a> which make for simple, easy to read and maintain, tests.</p>\n\n<p><em>So if I have a cookbook that was using minitest, how can I make it move to chef audit?</em></p>\n\n<p>You need to decide where your audit code will live. Your options are:</p>\n\n<ul>\n<li><p>One gigantic audit recipe that is included in your runlist however you normally include recipes in the cookbook. This option will put all the code in one file but can get unwieldy and large as a cookbook gets more complex</p></li>\n<li><p>An <code>_audit_foo.rb</code> recipe for every <code>foo.rb</code> recipe you already have. The audit ones have to be separately included as well. This is arguably the most organized manner to do this and can work very well for books with lots of internal recipes where one large audit file can get very large. But it can also feel like recipe sprawl.</p></li>\n<li><p>Add the audit code directly inside each recipe. This is nice because you can then see in the same file both the code that makes the changes and the audits that run to validate the policies around these changes. But again, this can get harder to use if the individual recipe is long or complex</p></li>\n</ul>\n\n<p>Each of these, as you can see, have pros and cons. The good thing about this flexibility is that you can pick what works best for your cookbook or organization :D</p>\n\n<p>Now onto an example...or two...</p>\n\n<p>Say you have this code block in a recipe to drop a script file in a specific spot and make it executable.  </p>\n\n<pre><code class=\"language-ruby\">cookbook_file '/usr/local/bin/test_backup.sh' do  \n  source 'test_backup.sh'\n  owner 'mysql'\n  group 'mysql'\n  mode 0o755\n  action :create\nend  \n</code></pre>\n\n<p>The code to audit this block would look like this  </p>\n\n<pre><code class=\"language-ruby\">control_group 'MySQL BackupTests : Archive access' do  \n  control 'test_backup.sh' do\n      describe file('/usr/local/bin/test_backup.sh') do\n        it { should exist }\n        it { should be_file }\n        it { should be_executable }\n        it { should be_owned_by 'mysql' }\n      end\n    end\nend  \n</code></pre>\n\n<p>As you can see, the audit part is very natural in its language, and the resources are quite simple to use. So how do we tell chef to run this audit code in our test environment?</p>\n\n<p>Presuming you use test kitchen, you need to edit that config to enable audit mode. <br />\nUnder the provisioner section of your <code>.kitchen.yml</code> config file, add these 2 lines:</p>\n\n<pre><code>client_rb:  \n  audit_mode: :enabled\n</code></pre>\n\n<p>So what are the advantages of audit_mode vs the old minitests? well besides the fact that minitest is deprecated, I find that having the test code as part of the recipe tree (and better yet, can even be <em>in</em> the recipe directly) gives a very nice single view of what every recipe should look like and what my view of the state of the host should be based on that. That should come even handier for anyone trying to look at a cookbook I wrote and understand what the cookbook is supposed to do.</p>\n\n<p>Aa I started a journey with chef <a href=\"https://dbsmasher.com/2015/02/12/-learning-configuration-management-as-a-dba/\">a few years back</a>, converting my knowledge on how to build our databases into repeatable cookbooks, I will be spending the next months with the rest of our data ops team converting our resources into chef audit code.</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2017-05-07 20:48:48","created_by":1,"updated_at":"2017-05-11 19:50:53","updated_by":1,"published_at":"2017-05-07 20:49:11","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":12,"uuid":"4a89c4c8-a3f8-447e-a687-0792f08a10df","title":"On leadership vs management","slug":"on-leadership-vs-management","markdown":"_This post is a flight of ideas. Blame Charity getting my brain going_\n\nThis morning, I came to twitter to find [this thread of tweets]( https://storify.com/dbsmasher/conversation-with-mipsytipsy-and-jaysoifer) from the always awesome Charity majors.\n\nThis got me thinking about how it seems many poeple in our field, and so many companies by consequence, have adopted the attitude that leadership comes from above. That you must have a certain title to be able to lead in your organization.\n\nIn individual contributors, this can be a sign of lack of maturity. An engineer should not be considered 'senior' unless they exhibit a sense of ownership towards the business and a sensibility towards what's best for the customers. Not only that, but a senior engineer should also be capable of influencing engineers around her to 'do it right'. That sometimes means the longer way and sometimes even means the less 'cool' tech. A senior engineer, even if not a 'team lead', should be able to argue, with data, for solutions that provide the most business value with the least amount of risk. \n\nSimilarly, if Junior/associate engineers are to grow in their careers, they should be encouraged to find their passion and translate that into business value. As engineers, we may be insulated from the customer facing work by having support teams and customer sueccess reps but that should not mean we cannot be aware of how the quality of our work impacts the customers and our co workers who have to talk to the customers.\n\nSadly we do not learn enough of that in our fancy CS degrees. Too much emphasis is put on algorithms and software and not enough in understanding how to talk to the business side of the company, how to have empathy for the customer facing team members and how to behave and think as one team that is ultimately providing a service to paying customers. I was guilty of this as a fresh grad. I was looking to write code, to play with software that was new to me and handling customers' issues was a 'nuisance' that I just had to deal with. It took the fall of my first company to learn that code and elegant design are nothing if they are not providing a business value and solving a problem for a paying customer.\n\nThis is also a problem of managers. Micro managers, among many other harms, reinforce the idea that only managers can decide how things are done and make decisions. Select all managers who do not advocate for their team and know how to say no during critical organizational planning imply to the team that they cannot drive excellence themselves but have to be told, by some laid out plan devised by executives, what to do.\n\nNow, that is not to say that the executive perspective is not of value. Far from it, an executive has the position of knowing the market landscape a company is competing in, and owns the strategy of the organization to develop an edge in that marklet. But the executive is not to be expected to know the details and severity of tech debt the company has accumelated and what parts of said tech debt can closely endanger meeting this needed business edge. Without individual contributors understaning their company strategy and making these connections between \"this service is old and needs a refactor\" and \"we need this to make that new product scalable and an easier sell\", the executive team may never see their lofty plans to fruition and ultimately the business will lose customers.\n\nSo what can be done to make this better?\n\nYes it involves everyone...\n\nIt is important to make 'sense of ownership' a part of performance review for everyone, not just for team leads and line managers. It should be something junior individual contributors strive to internalize in order to grow in their careers and it needs to be something senior team members have to exhibit and are scored on. Remember, it is what goes in the performance review that shows what the company *really* values. Since it is literally 'putting money where your mouth is'. One thing that is *very* dangerous, is mistaking when an individual contributor is sounding the alarm about an architectural problem as them being \"a cynic\" or a \"pessimist\". That is especially a problem that women in tech face as we are expected to just be merry and happy all the time and when we point out issues during design reviews, it tends to be seen as being 'brash' or 'harsh'. Actively burying concerns from team members and chalking them off to 'personality' or the ever non inclusive phrase 'team fit' will only spell long term dysfunction for your organization. Ignore at your own risk.\n\nLine managers, those whose direct reports are all individual contributors, need to constantly let their reports bubble up pain points in the company tech stack. Involve them in the roadmap planning process. Make sure to communicate to them the strategy and not just 'here is what we will be doing'. For many people, knowing the why goes a very long way in being invested to do the best possible job. Line managers should encourage the quiet ones to still participate in this discussion even if not in front of the whole team. Sometimes the best feedback on 'what needs to be fixed' can come out of 1:1 conversations. Not everyone is comfortable sounding these concerns in a group.\n\nFinally, directors and executives should be open to feedback from all levels of the organization. Do not wait for this to come to you. At my current company we do a biannual survey that is deliberately anonymous but allows everyone to provide the executive team with feedback from all levels of the company. It is *super* important to not just solicit this feedback but to transparently also create action items based on that feedback and report back to the company on the progress of these action items.\n\nThanks to Charity and Nicole for sparking this post and to [Camille Fournier's book](https://www.amazon.com/Managers-Path-Leaders-Navigating-Growth/dp/1491973897/ref=sr_1_1?ie=UTF8&qid=1506747712&sr=8-1&keywords=the+manager%27s+path) that has given me a great perspective into management.","html":"<p><em>This post is a flight of ideas. Blame Charity getting my brain going</em></p>\n\n<p>This morning, I came to twitter to find <a href=\"https://storify.com/dbsmasher/conversation-with-mipsytipsy-and-jaysoifer\">this thread of tweets</a> from the always awesome Charity majors.</p>\n\n<p>This got me thinking about how it seems many poeple in our field, and so many companies by consequence, have adopted the attitude that leadership comes from above. That you must have a certain title to be able to lead in your organization.</p>\n\n<p>In individual contributors, this can be a sign of lack of maturity. An engineer should not be considered 'senior' unless they exhibit a sense of ownership towards the business and a sensibility towards what's best for the customers. Not only that, but a senior engineer should also be capable of influencing engineers around her to 'do it right'. That sometimes means the longer way and sometimes even means the less 'cool' tech. A senior engineer, even if not a 'team lead', should be able to argue, with data, for solutions that provide the most business value with the least amount of risk. </p>\n\n<p>Similarly, if Junior/associate engineers are to grow in their careers, they should be encouraged to find their passion and translate that into business value. As engineers, we may be insulated from the customer facing work by having support teams and customer sueccess reps but that should not mean we cannot be aware of how the quality of our work impacts the customers and our co workers who have to talk to the customers.</p>\n\n<p>Sadly we do not learn enough of that in our fancy CS degrees. Too much emphasis is put on algorithms and software and not enough in understanding how to talk to the business side of the company, how to have empathy for the customer facing team members and how to behave and think as one team that is ultimately providing a service to paying customers. I was guilty of this as a fresh grad. I was looking to write code, to play with software that was new to me and handling customers' issues was a 'nuisance' that I just had to deal with. It took the fall of my first company to learn that code and elegant design are nothing if they are not providing a business value and solving a problem for a paying customer.</p>\n\n<p>This is also a problem of managers. Micro managers, among many other harms, reinforce the idea that only managers can decide how things are done and make decisions. Select all managers who do not advocate for their team and know how to say no during critical organizational planning imply to the team that they cannot drive excellence themselves but have to be told, by some laid out plan devised by executives, what to do.</p>\n\n<p>Now, that is not to say that the executive perspective is not of value. Far from it, an executive has the position of knowing the market landscape a company is competing in, and owns the strategy of the organization to develop an edge in that marklet. But the executive is not to be expected to know the details and severity of tech debt the company has accumelated and what parts of said tech debt can closely endanger meeting this needed business edge. Without individual contributors understaning their company strategy and making these connections between \"this service is old and needs a refactor\" and \"we need this to make that new product scalable and an easier sell\", the executive team may never see their lofty plans to fruition and ultimately the business will lose customers.</p>\n\n<p>So what can be done to make this better?</p>\n\n<p>Yes it involves everyone...</p>\n\n<p>It is important to make 'sense of ownership' a part of performance review for everyone, not just for team leads and line managers. It should be something junior individual contributors strive to internalize in order to grow in their careers and it needs to be something senior team members have to exhibit and are scored on. Remember, it is what goes in the performance review that shows what the company <em>really</em> values. Since it is literally 'putting money where your mouth is'. One thing that is <em>very</em> dangerous, is mistaking when an individual contributor is sounding the alarm about an architectural problem as them being \"a cynic\" or a \"pessimist\". That is especially a problem that women in tech face as we are expected to just be merry and happy all the time and when we point out issues during design reviews, it tends to be seen as being 'brash' or 'harsh'. Actively burying concerns from team members and chalking them off to 'personality' or the ever non inclusive phrase 'team fit' will only spell long term dysfunction for your organization. Ignore at your own risk.</p>\n\n<p>Line managers, those whose direct reports are all individual contributors, need to constantly let their reports bubble up pain points in the company tech stack. Involve them in the roadmap planning process. Make sure to communicate to them the strategy and not just 'here is what we will be doing'. For many people, knowing the why goes a very long way in being invested to do the best possible job. Line managers should encourage the quiet ones to still participate in this discussion even if not in front of the whole team. Sometimes the best feedback on 'what needs to be fixed' can come out of 1:1 conversations. Not everyone is comfortable sounding these concerns in a group.</p>\n\n<p>Finally, directors and executives should be open to feedback from all levels of the organization. Do not wait for this to come to you. At my current company we do a biannual survey that is deliberately anonymous but allows everyone to provide the executive team with feedback from all levels of the company. It is <em>super</em> important to not just solicit this feedback but to transparently also create action items based on that feedback and report back to the company on the progress of these action items.</p>\n\n<p>Thanks to Charity and Nicole for sparking this post and to <a href=\"https://www.amazon.com/Managers-Path-Leaders-Navigating-Growth/dp/1491973897/ref=sr_1_1?ie=UTF8&amp;qid=1506747712&amp;sr=8-1&amp;keywords=the+manager%27s+path\">Camille Fournier's book</a> that has given me a great perspective into management.</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2017-09-30 05:03:34","created_by":1,"updated_at":"2017-09-30 05:15:10","updated_by":1,"published_at":"2017-09-30 05:10:59","published_by":1,"visibility":"public","mobiledoc":null,"amp":null},{"id":13,"uuid":"278835ec-9a99-4d2b-a69b-532a0e743639","title":"2017 in review","slug":"2017-in-review","markdown":"In some ways it feels like this year flew by, in others like it was as long as an eternity. Looking back, it definitely surprises even _me_ how many significant events have happened in these 12 months. I know one can say that about pretty much every year but it feels more pronounced this time. Without much ado, here is a recap of how this year has been.\n\n### Team of one no more\n\nBy the beginning of 2017, we had secured an accepted offer from Bill who was to become Sendgrid's second in house DBA. While the larger tech ops org had always had my back during maternity leaves and vacations and we've always had a strong support team in the folks in Pythian, it was clear that we were overdue for the in house DB Ops team to no longer remain a one woman team.\n\nThis was not just a great thing for the team and Sendgrid, but also tremendously useful for my career growth. I had been running on fumes for a while and started to chafe at my day to day tasks, itching to get more involved in large strategy planning rather than drowning in daily tactical tasks. But to do all that I needed to also learn to let go of some things I have had full control over for while. Now, almost a year later, I have realized that having a trusted partner on my team has led to serendipitous changes like letting engineering teams write the chef cookbooks for managing their new database clusters. This process of 'letting go' was a crucial first step to the next big career event in 2017 for me. I was told recently that in the past year I have become more pragmatic. And I think this was the single most unexpected but welcome result of not working in isolation anymore. \n\n### New title...a whole new role\n\nIt was clear to me in 2016 that i was hitting a ceiling in career growth if I remained a single person team doing tactical work all the time. Once the team grew by 100% (😃), I was able to focus more on higher level planning. Getting more involved in architecture blueprints, writing more blog posts, planning my first ever conference talk (more on all that later). \n\nBy late 2017, I earned my promotion to Principal DBA which, while the next step in the IC career track at Sendgrid, is also a role that is far more leadership than 'heads down on code'. Since this promotion, my role has now shifted from working on code to lots and lots of planning and reading or architecture blueprints. Yes, it means more meetings..but it also means having a broader impact on how we build or rebuild pieces of our architecture and supporting entire teams. If being a 'senior engineer' requires one to be a force multiplier within their team, it feels that principal engineer demands that ten times as much and with a much larger impact across the organisation. \n\nI am still working on accepting changes that have come with this role change, my calendar is certainly a testament and my standup updates are almost always a mix of 'Talked to Person X about project Foo and Person Y about project Bar'. Getting my head as an engineer out of classifying these conversations as 'non work' and instead recognising them as critical collaboration as part of a distributed engineering organisation is now part of my job. As my dear friend Sean Kilgore said in a  tweet:  \"My specialty is random conversations. And all of the gdocs suggestions.\" He meant it in jest but I think this is not a bad goal to have in 2018 😃\n\n### Blog posts\n\nWhile technical posts such as [How we encrypted our backups](https://sendgrid.com/blog/encrypting-our-backups-making-it-to-that-finish-line/) are always fun and rewarding once a project is complete, it seems like the most popular post I wrote this past year was a more personal one on [management vs leaderhsip](https://dbsmasher.com/2017/09/30/on-leadership-vs-management/). I will not rehash here my thoughts on the subject but I will note that, for all the focus many people in tech put on the code and the tools. It is definitely of note that blog posts on the human interactions side of the job that seem to get a lot more attention and spark more discussion. It is a good thing. It is about time we stopped pretending this field doesn't have human vs human responsibilities. \n\n### Second tech conference, first talk\n\nOne of the highlights of 2017 was being able to attend and speak at LISA. LISA is one of the oldest tech conferences around and through its selections of chairs and talk chairs, has done a great job at being inclusive to attendees and first time speakers, myself included.\n\nMy talk was about [working with DBAs in a Devops world](https://www.youtube.com/watch?v=Ym408YX2zTA) which was in part what I talked about, but also the title was more of a hook to talk about \"how to architect products by talking to people\". I wrote a [preview blog post](https://opensource.com/article/17/10/working-dbas-devops-world) which was very helpful in shaping exactly what I was going to cover besides the outline of the proposal. I also got lots of help and support from wonderful people like [Alice Goldfuss](http://blog.alicegoldfuss.com) and [Connie-Lynne Villani](https://twitter.com/clynnexx) in both enouraging me to submit to LISA and at the conference as a a ball of nervous energy until I was done presenting. \n\nLISA was also my second ever tech conference to attend and I realized that i now much prefer conferences with really diverse attendance. I got to meet so many fellow women in tech and had plenty of awesome conversations that I will cherish for a long time and it was all because of a planning committee that put real work in making sure the conference had a friendly and inclusive environment.\n\n### IPO!\n\nJanuary 2018 will mark six years working for Sendgrid. When I joined I had no idea that the business of delivering emails was....a business...and possibly a lucrative one. It was a highlight of this year and possibly the rest of my career being in NYC and, in person, watching the company I have poured years of hard work in go public and have its day in the sun. While this is only a milestone and not a destination, it is definitely a milestone many companies strive to accomplish and it felt good being a part of it. \n\n### Wrap-up\n\nIt has been a *very* busy year indeed. I have not yet thought about any personal goals in 2018 but I sure have plenty of them professionally. If it turns out to be half as awesome as 2017 has been, it won't be too bad. 😉","html":"<p>In some ways it feels like this year flew by, in others like it was as long as an eternity. Looking back, it definitely surprises even <em>me</em> how many significant events have happened in these 12 months. I know one can say that about pretty much every year but it feels more pronounced this time. Without much ado, here is a recap of how this year has been.</p>\n\n<h3 id=\"teamofonenomore\">Team of one no more</h3>\n\n<p>By the beginning of 2017, we had secured an accepted offer from Bill who was to become Sendgrid's second in house DBA. While the larger tech ops org had always had my back during maternity leaves and vacations and we've always had a strong support team in the folks in Pythian, it was clear that we were overdue for the in house DB Ops team to no longer remain a one woman team.</p>\n\n<p>This was not just a great thing for the team and Sendgrid, but also tremendously useful for my career growth. I had been running on fumes for a while and started to chafe at my day to day tasks, itching to get more involved in large strategy planning rather than drowning in daily tactical tasks. But to do all that I needed to also learn to let go of some things I have had full control over for while. Now, almost a year later, I have realized that having a trusted partner on my team has led to serendipitous changes like letting engineering teams write the chef cookbooks for managing their new database clusters. This process of 'letting go' was a crucial first step to the next big career event in 2017 for me. I was told recently that in the past year I have become more pragmatic. And I think this was the single most unexpected but welcome result of not working in isolation anymore. </p>\n\n<h3 id=\"newtitleawholenewrole\">New title...a whole new role</h3>\n\n<p>It was clear to me in 2016 that i was hitting a ceiling in career growth if I remained a single person team doing tactical work all the time. Once the team grew by 100% (😃), I was able to focus more on higher level planning. Getting more involved in architecture blueprints, writing more blog posts, planning my first ever conference talk (more on all that later). </p>\n\n<p>By late 2017, I earned my promotion to Principal DBA which, while the next step in the IC career track at Sendgrid, is also a role that is far more leadership than 'heads down on code'. Since this promotion, my role has now shifted from working on code to lots and lots of planning and reading or architecture blueprints. Yes, it means more meetings..but it also means having a broader impact on how we build or rebuild pieces of our architecture and supporting entire teams. If being a 'senior engineer' requires one to be a force multiplier within their team, it feels that principal engineer demands that ten times as much and with a much larger impact across the organisation. </p>\n\n<p>I am still working on accepting changes that have come with this role change, my calendar is certainly a testament and my standup updates are almost always a mix of 'Talked to Person X about project Foo and Person Y about project Bar'. Getting my head as an engineer out of classifying these conversations as 'non work' and instead recognising them as critical collaboration as part of a distributed engineering organisation is now part of my job. As my dear friend Sean Kilgore said in a  tweet:  \"My specialty is random conversations. And all of the gdocs suggestions.\" He meant it in jest but I think this is not a bad goal to have in 2018 😃</p>\n\n<h3 id=\"blogposts\">Blog posts</h3>\n\n<p>While technical posts such as <a href=\"https://sendgrid.com/blog/encrypting-our-backups-making-it-to-that-finish-line/\">How we encrypted our backups</a> are always fun and rewarding once a project is complete, it seems like the most popular post I wrote this past year was a more personal one on <a href=\"https://dbsmasher.com/2017/09/30/on-leadership-vs-management/\">management vs leaderhsip</a>. I will not rehash here my thoughts on the subject but I will note that, for all the focus many people in tech put on the code and the tools. It is definitely of note that blog posts on the human interactions side of the job that seem to get a lot more attention and spark more discussion. It is a good thing. It is about time we stopped pretending this field doesn't have human vs human responsibilities. </p>\n\n<h3 id=\"secondtechconferencefirsttalk\">Second tech conference, first talk</h3>\n\n<p>One of the highlights of 2017 was being able to attend and speak at LISA. LISA is one of the oldest tech conferences around and through its selections of chairs and talk chairs, has done a great job at being inclusive to attendees and first time speakers, myself included.</p>\n\n<p>My talk was about <a href=\"https://www.youtube.com/watch?v=Ym408YX2zTA\">working with DBAs in a Devops world</a> which was in part what I talked about, but also the title was more of a hook to talk about \"how to architect products by talking to people\". I wrote a <a href=\"https://opensource.com/article/17/10/working-dbas-devops-world\">preview blog post</a> which was very helpful in shaping exactly what I was going to cover besides the outline of the proposal. I also got lots of help and support from wonderful people like <a href=\"http://blog.alicegoldfuss.com\">Alice Goldfuss</a> and <a href=\"https://twitter.com/clynnexx\">Connie-Lynne Villani</a> in both enouraging me to submit to LISA and at the conference as a a ball of nervous energy until I was done presenting. </p>\n\n<p>LISA was also my second ever tech conference to attend and I realized that i now much prefer conferences with really diverse attendance. I got to meet so many fellow women in tech and had plenty of awesome conversations that I will cherish for a long time and it was all because of a planning committee that put real work in making sure the conference had a friendly and inclusive environment.</p>\n\n<h3 id=\"ipo\">IPO!</h3>\n\n<p>January 2018 will mark six years working for Sendgrid. When I joined I had no idea that the business of delivering emails was....a business...and possibly a lucrative one. It was a highlight of this year and possibly the rest of my career being in NYC and, in person, watching the company I have poured years of hard work in go public and have its day in the sun. While this is only a milestone and not a destination, it is definitely a milestone many companies strive to accomplish and it felt good being a part of it. </p>\n\n<h3 id=\"wrapup\">Wrap-up</h3>\n\n<p>It has been a <em>very</em> busy year indeed. I have not yet thought about any personal goals in 2018 but I sure have plenty of them professionally. If it turns out to be half as awesome as 2017 has been, it won't be too bad. 😉</p>","image":null,"featured":0,"page":0,"status":"published","language":"en_US","meta_title":null,"meta_description":null,"author_id":1,"created_at":"2017-12-25 20:03:45","created_by":1,"updated_at":"2017-12-25 20:11:42","updated_by":1,"published_at":"2017-12-25 20:11:42","published_by":1,"visibility":"public","mobiledoc":null,"amp":null}],"users":[{"id":1,"uuid":"d957ac8d-c4a2-4926-970f-b03e1aef6fb3","name":"Silvia Botros","slug":"silvia","password":"$2a$10$gcJucManJMiOnc1rVvVgG.CUqK0XUPreMWdtBAvQJ09k7XKgpsZJ6","email":"silviamikhail@gmail.com","image":"//www.gravatar.com/avatar/d9396d389204ab475352be70e85376b0?s=250&d=mm&r=x","cover":null,"bio":null,"website":null,"location":null,"accessibility":null,"status":"active","language":"en_US","meta_title":null,"meta_description":null,"last_login":"2017-12-26 03:14:10","created_at":"2015-02-08 18:40:41","created_by":1,"updated_at":"2017-12-26 03:14:10","updated_by":1,"tour":null,"visibility":"public","facebook":null,"twitter":null}],"roles":[{"id":1,"uuid":"8ff6ce31-0018-49f1-87b6-e05f43596665","name":"Administrator","description":"Administrators","created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":2,"uuid":"61abefdd-3df1-4caa-b222-ff23c87651a4","name":"Editor","description":"Editors","created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":3,"uuid":"e937340e-781d-49ef-9c99-5742f64f3fa6","name":"Author","description":"Authors","created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":4,"uuid":"7cbaec56-11ce-4cf8-911a-226b02adbf58","name":"Owner","description":"Blog Owner","created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1}],"roles_users":[{"id":1,"role_id":4,"user_id":1}],"permissions":[{"id":1,"uuid":"9efcfbbe-5558-43e9-8fed-49a4e038dcc2","name":"Export database","object_type":"db","action_type":"exportContent","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":2,"uuid":"99996ab8-0bf8-4e4a-8e5f-6f205bfc7dce","name":"Import database","object_type":"db","action_type":"importContent","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":3,"uuid":"f1a6a8a2-3317-4a1d-b1b6-39827e432d79","name":"Delete all content","object_type":"db","action_type":"deleteAllContent","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":4,"uuid":"5a11d413-1708-4617-b94b-eb4ef12eb7da","name":"Send mail","object_type":"mail","action_type":"send","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":5,"uuid":"47bb3620-e846-48ee-8dbe-251b14ba06b1","name":"Browse notifications","object_type":"notification","action_type":"browse","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":6,"uuid":"efa1dd5c-19a8-40cb-80f9-1b311e6c859e","name":"Add notifications","object_type":"notification","action_type":"add","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":7,"uuid":"f220f192-253c-4c24-9cb1-f7f47801b8ae","name":"Delete notifications","object_type":"notification","action_type":"destroy","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":8,"uuid":"73da59f4-ff09-41b5-9c3c-8228ee0d91d5","name":"Browse posts","object_type":"post","action_type":"browse","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":9,"uuid":"e99c4286-8717-4647-aee6-d269a3ca42e3","name":"Read posts","object_type":"post","action_type":"read","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":10,"uuid":"e1ea9b4a-6350-468e-bf88-2b762456ff2f","name":"Edit posts","object_type":"post","action_type":"edit","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":11,"uuid":"0ce29209-6983-4cf6-ba11-d18711712c26","name":"Add posts","object_type":"post","action_type":"add","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":12,"uuid":"d4f905b3-f0bf-4ae6-a9be-d45816bbc6e5","name":"Delete posts","object_type":"post","action_type":"destroy","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":13,"uuid":"656bd06a-f685-419a-9532-4f43ae1a27c6","name":"Browse settings","object_type":"setting","action_type":"browse","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":14,"uuid":"1bf67ccd-3a14-44cf-a9ee-dd9cc8d0db68","name":"Read settings","object_type":"setting","action_type":"read","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":15,"uuid":"85e8571c-1f5c-4590-92cf-f180f31a4901","name":"Edit settings","object_type":"setting","action_type":"edit","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":16,"uuid":"a80eb562-36f6-48b9-8408-469d07c9b197","name":"Generate slugs","object_type":"slug","action_type":"generate","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":17,"uuid":"e1307a8a-af8d-4522-8ef0-0d382ada85e1","name":"Browse tags","object_type":"tag","action_type":"browse","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":18,"uuid":"ec624517-ddcd-43a4-8d9b-6a8ea7a45d69","name":"Read tags","object_type":"tag","action_type":"read","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":19,"uuid":"23ec6c69-564b-42db-bb8b-16eed82b9550","name":"Edit tags","object_type":"tag","action_type":"edit","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":20,"uuid":"460ab607-8cd3-46db-b74a-1a12e4d762c0","name":"Add tags","object_type":"tag","action_type":"add","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":21,"uuid":"7cdab88d-56ea-44cf-9070-55ca0055c36f","name":"Delete tags","object_type":"tag","action_type":"destroy","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":22,"uuid":"7580b6c5-24b8-4cc9-95f3-b57788fde28c","name":"Browse themes","object_type":"theme","action_type":"browse","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":23,"uuid":"f161797b-a942-401b-919e-dd97f91a3c6f","name":"Edit themes","object_type":"theme","action_type":"edit","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":24,"uuid":"79958c7e-f2d1-474c-93d0-5e5a9fcee236","name":"Browse users","object_type":"user","action_type":"browse","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":25,"uuid":"ab5c88b6-62ba-4a88-926a-a7f1ebda85ca","name":"Read users","object_type":"user","action_type":"read","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":26,"uuid":"9b1aef10-dc4c-4539-8dc1-a5f3167a0a2f","name":"Edit users","object_type":"user","action_type":"edit","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":27,"uuid":"1abc32a7-888b-4d36-a424-cc1c05686221","name":"Add users","object_type":"user","action_type":"add","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":28,"uuid":"10d757e2-7278-44c2-9f77-c1154eba9def","name":"Delete users","object_type":"user","action_type":"destroy","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":29,"uuid":"9c4dcb0c-14fe-4a21-96c6-72430b02a9e3","name":"Assign a role","object_type":"role","action_type":"assign","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":30,"uuid":"f2c9de8c-6975-44db-adfd-62a815faca82","name":"Browse roles","object_type":"role","action_type":"browse","object_id":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1},{"id":31,"uuid":"53e924a1-28f9-4be8-a445-579669d9c554","name":"Browse clients","object_type":"client","action_type":"browse","object_id":null,"created_at":"2016-11-05 01:43:48","created_by":1,"updated_at":"2016-11-05 01:43:48","updated_by":1},{"id":32,"uuid":"028265da-d72d-443d-af9d-af022a035539","name":"Read clients","object_type":"client","action_type":"read","object_id":null,"created_at":"2016-11-05 01:43:48","created_by":1,"updated_at":"2016-11-05 01:43:48","updated_by":1},{"id":33,"uuid":"5482f9fa-a9ed-45e4-ab69-94bafd701e98","name":"Edit clients","object_type":"client","action_type":"edit","object_id":null,"created_at":"2016-11-05 01:43:48","created_by":1,"updated_at":"2016-11-05 01:43:48","updated_by":1},{"id":34,"uuid":"849252e5-490a-473e-8700-4fe5c0a60cad","name":"Add clients","object_type":"client","action_type":"add","object_id":null,"created_at":"2016-11-05 01:43:48","created_by":1,"updated_at":"2016-11-05 01:43:48","updated_by":1},{"id":35,"uuid":"088dd6af-92af-43e5-9d3b-f9e752189767","name":"Delete clients","object_type":"client","action_type":"destroy","object_id":null,"created_at":"2016-11-05 01:43:48","created_by":1,"updated_at":"2016-11-05 01:43:48","updated_by":1},{"id":36,"uuid":"f19efb18-7b88-481b-b927-91eaf8ee4372","name":"Browse subscribers","object_type":"subscriber","action_type":"browse","object_id":null,"created_at":"2016-11-05 01:43:49","created_by":1,"updated_at":"2016-11-05 01:43:49","updated_by":1},{"id":37,"uuid":"ec861827-95dc-4807-99f7-669877e5a283","name":"Read subscribers","object_type":"subscriber","action_type":"read","object_id":null,"created_at":"2016-11-05 01:43:49","created_by":1,"updated_at":"2016-11-05 01:43:49","updated_by":1},{"id":38,"uuid":"8207b4af-8549-40d0-bfd3-94ade9f4058e","name":"Edit subscribers","object_type":"subscriber","action_type":"edit","object_id":null,"created_at":"2016-11-05 01:43:49","created_by":1,"updated_at":"2016-11-05 01:43:49","updated_by":1},{"id":39,"uuid":"26aef80c-d46a-4e9b-a666-b443843e7c8f","name":"Add subscribers","object_type":"subscriber","action_type":"add","object_id":null,"created_at":"2016-11-05 01:43:49","created_by":1,"updated_at":"2016-11-05 01:43:49","updated_by":1},{"id":40,"uuid":"d0c289d8-d469-44e9-876a-ea93c3363b9d","name":"Delete subscribers","object_type":"subscriber","action_type":"destroy","object_id":null,"created_at":"2016-11-05 01:43:49","created_by":1,"updated_at":"2016-11-05 01:43:49","updated_by":1},{"id":41,"uuid":"c60f0907-4828-4771-a241-4d7b7f0c3de8","name":"Upload themes","object_type":"theme","action_type":"add","object_id":null,"created_at":"2016-11-05 01:43:50","created_by":1,"updated_at":"2016-11-05 01:43:50","updated_by":1},{"id":42,"uuid":"61299c0d-b8e7-41c7-8a36-07f3d25ec6e6","name":"Download themes","object_type":"theme","action_type":"read","object_id":null,"created_at":"2016-11-05 01:43:50","created_by":1,"updated_at":"2016-11-05 01:43:50","updated_by":1},{"id":43,"uuid":"6de06ff6-075e-45ad-84da-58fa1491b186","name":"Delete themes","object_type":"theme","action_type":"destroy","object_id":null,"created_at":"2016-11-05 01:43:50","created_by":1,"updated_at":"2016-11-05 01:43:50","updated_by":1}],"permissions_users":[],"permissions_roles":[{"id":1,"role_id":1,"permission_id":1},{"id":2,"role_id":1,"permission_id":2},{"id":3,"role_id":1,"permission_id":3},{"id":4,"role_id":1,"permission_id":4},{"id":5,"role_id":1,"permission_id":5},{"id":6,"role_id":1,"permission_id":6},{"id":7,"role_id":1,"permission_id":7},{"id":8,"role_id":1,"permission_id":8},{"id":9,"role_id":1,"permission_id":9},{"id":10,"role_id":1,"permission_id":10},{"id":11,"role_id":1,"permission_id":11},{"id":12,"role_id":1,"permission_id":12},{"id":13,"role_id":1,"permission_id":13},{"id":14,"role_id":1,"permission_id":14},{"id":15,"role_id":1,"permission_id":15},{"id":16,"role_id":1,"permission_id":16},{"id":17,"role_id":1,"permission_id":17},{"id":18,"role_id":1,"permission_id":18},{"id":19,"role_id":1,"permission_id":19},{"id":20,"role_id":1,"permission_id":20},{"id":21,"role_id":1,"permission_id":21},{"id":22,"role_id":1,"permission_id":22},{"id":23,"role_id":1,"permission_id":23},{"id":24,"role_id":1,"permission_id":24},{"id":25,"role_id":1,"permission_id":25},{"id":26,"role_id":1,"permission_id":26},{"id":27,"role_id":1,"permission_id":27},{"id":28,"role_id":1,"permission_id":28},{"id":29,"role_id":1,"permission_id":29},{"id":30,"role_id":1,"permission_id":30},{"id":31,"role_id":2,"permission_id":8},{"id":32,"role_id":2,"permission_id":9},{"id":33,"role_id":2,"permission_id":10},{"id":34,"role_id":2,"permission_id":11},{"id":35,"role_id":2,"permission_id":12},{"id":36,"role_id":2,"permission_id":13},{"id":37,"role_id":2,"permission_id":14},{"id":38,"role_id":2,"permission_id":16},{"id":39,"role_id":2,"permission_id":17},{"id":40,"role_id":2,"permission_id":18},{"id":41,"role_id":2,"permission_id":19},{"id":42,"role_id":2,"permission_id":20},{"id":43,"role_id":2,"permission_id":21},{"id":44,"role_id":2,"permission_id":24},{"id":45,"role_id":2,"permission_id":25},{"id":46,"role_id":2,"permission_id":26},{"id":47,"role_id":2,"permission_id":27},{"id":48,"role_id":2,"permission_id":28},{"id":49,"role_id":2,"permission_id":29},{"id":50,"role_id":2,"permission_id":30},{"id":51,"role_id":3,"permission_id":8},{"id":52,"role_id":3,"permission_id":9},{"id":53,"role_id":3,"permission_id":11},{"id":54,"role_id":3,"permission_id":13},{"id":55,"role_id":3,"permission_id":14},{"id":56,"role_id":3,"permission_id":16},{"id":57,"role_id":3,"permission_id":17},{"id":58,"role_id":3,"permission_id":18},{"id":59,"role_id":3,"permission_id":20},{"id":60,"role_id":3,"permission_id":24},{"id":61,"role_id":3,"permission_id":25},{"id":62,"role_id":3,"permission_id":30},{"id":63,"role_id":1,"permission_id":31},{"id":64,"role_id":1,"permission_id":32},{"id":65,"role_id":1,"permission_id":33},{"id":66,"role_id":1,"permission_id":34},{"id":67,"role_id":1,"permission_id":35},{"id":68,"role_id":2,"permission_id":31},{"id":69,"role_id":2,"permission_id":32},{"id":70,"role_id":2,"permission_id":33},{"id":71,"role_id":2,"permission_id":34},{"id":72,"role_id":2,"permission_id":35},{"id":73,"role_id":3,"permission_id":31},{"id":74,"role_id":3,"permission_id":32},{"id":75,"role_id":3,"permission_id":33},{"id":76,"role_id":3,"permission_id":34},{"id":77,"role_id":3,"permission_id":35},{"id":78,"role_id":1,"permission_id":36},{"id":79,"role_id":1,"permission_id":37},{"id":80,"role_id":1,"permission_id":38},{"id":81,"role_id":1,"permission_id":39},{"id":82,"role_id":1,"permission_id":40},{"id":83,"role_id":2,"permission_id":39},{"id":84,"role_id":3,"permission_id":39},{"id":85,"role_id":1,"permission_id":41},{"id":86,"role_id":1,"permission_id":42},{"id":87,"role_id":1,"permission_id":43}],"permissions_apps":[],"settings":[{"id":1,"uuid":"b45e51fe-66f2-4fa5-a75d-be73bbeda733","key":"databaseVersion","value":"009","type":"core","created_at":"2015-02-08 18:40:41","created_by":1,"updated_at":"2016-11-05 01:43:49","updated_by":1},{"id":2,"uuid":"742edcdf-6027-4d12-ae64-3f3dc889b200","key":"dbHash","value":"294dbb9a-e576-47db-a8c7-d9d4fa66c8c3","type":"core","created_at":"2015-02-08 18:40:41","created_by":1,"updated_at":"2016-11-05 01:43:49","updated_by":1},{"id":3,"uuid":"088436d6-cd6c-4940-9b32-a2f698b09536","key":"nextUpdateCheck","value":"1514318589","type":"core","created_at":"2015-02-08 18:40:41","created_by":1,"updated_at":"2017-12-25 20:03:09","updated_by":1},{"id":4,"uuid":"f4528822-9885-49ee-8916-13ebf3007115","key":"displayUpdateNotification","value":"0.11.12","type":"core","created_at":"2015-02-08 18:40:41","created_by":1,"updated_at":"2017-12-25 20:03:09","updated_by":1},{"id":5,"uuid":"19203ce2-e41e-4cba-b9a1-b60382bef7aa","key":"title","value":"dbsmasher corner","type":"blog","created_at":"2015-02-08 18:40:41","created_by":1,"updated_at":"2017-09-30 06:02:22","updated_by":1},{"id":6,"uuid":"8c1ee13a-e3b2-47c8-8b28-22f4b7adb2fb","key":"description","value":"Thoughts, stories and ideas.","type":"blog","created_at":"2015-02-08 18:40:41","created_by":1,"updated_at":"2017-09-30 06:02:22","updated_by":1},{"id":7,"uuid":"3c739cc3-9a25-4a12-8571-1a8fb7227941","key":"email","value":"silviamikhail@gmail.com","type":"blog","created_at":"2015-02-08 18:40:41","created_by":1,"updated_at":"2016-11-05 01:43:49","updated_by":1},{"id":8,"uuid":"29f54d93-6631-4e76-8749-7609d723ca5e","key":"logo","value":"/content/images/2016/12/Rainbowfartingpony.jpg","type":"blog","created_at":"2015-02-08 18:40:41","created_by":1,"updated_at":"2017-09-30 06:02:22","updated_by":1},{"id":9,"uuid":"610c6f24-00b8-4a93-8a6b-f9740b25b1cd","key":"cover","value":"","type":"blog","created_at":"2015-02-08 18:40:41","created_by":1,"updated_at":"2017-09-30 06:02:22","updated_by":1},{"id":10,"uuid":"2382d755-4065-4292-8374-c70618cd605c","key":"defaultLang","value":"en_US","type":"blog","created_at":"2015-02-08 18:40:41","created_by":1,"updated_at":"2017-09-30 06:02:22","updated_by":1},{"id":11,"uuid":"ea6833f7-7793-43be-984b-d93fd357609b","key":"postsPerPage","value":"10","type":"blog","created_at":"2015-02-08 18:40:41","created_by":1,"updated_at":"2017-09-30 06:02:22","updated_by":1},{"id":12,"uuid":"e75f2f11-4977-40e1-be3b-bb1aecb7c542","key":"forceI18n","value":"true","type":"blog","created_at":"2015-02-08 18:40:41","created_by":1,"updated_at":"2017-09-30 06:02:22","updated_by":1},{"id":13,"uuid":"86fd303a-9c9f-46f1-8b3d-ed0f179a2f9c","key":"permalinks","value":"/:year/:month/:day/:slug/","type":"blog","created_at":"2015-02-08 18:40:41","created_by":1,"updated_at":"2017-09-30 06:02:22","updated_by":1},{"id":14,"uuid":"9932583e-9303-4a6e-b0a7-84168e0740a2","key":"ghost_head","value":"<script>\n  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n\n  ga('create', 'UA-78506807-1', 'auto');\n  ga('send', 'pageview');\n\n</script>","type":"blog","created_at":"2015-02-08 18:40:41","created_by":1,"updated_at":"2017-09-30 06:02:22","updated_by":1},{"id":15,"uuid":"fad789c0-cdf9-438a-b576-24b20c697416","key":"ghost_foot","value":"<!-- You can safely delete this line if your theme does not require jQuery -->\n<script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-1.11.3.min.js\"></script>\n\n","type":"blog","created_at":"2015-02-08 18:40:41","created_by":1,"updated_at":"2017-09-30 06:02:22","updated_by":1},{"id":16,"uuid":"fd3c6986-ecea-4187-8229-535b887e379d","key":"labs","value":"{\"codeInjectionUI\":true}","type":"blog","created_at":"2015-02-08 18:40:41","created_by":1,"updated_at":"2017-09-30 06:02:22","updated_by":1},{"id":17,"uuid":"db9faee8-3dfe-4a4c-bde8-e95d158b991b","key":"activeApps","value":"[]","type":"app","created_at":"2015-02-08 18:40:41","created_by":1,"updated_at":"2016-11-05 01:43:49","updated_by":1},{"id":18,"uuid":"d6161a93-55b0-4092-99d3-bc0f5f3332c6","key":"installedApps","value":"[]","type":"app","created_at":"2015-02-08 18:40:41","created_by":1,"updated_at":"2017-12-01 23:00:32","updated_by":1},{"id":19,"uuid":"8069c536-15d5-4c24-a071-11fa539e75eb","key":"activeTheme","value":"the-shell-master-2","type":"theme","created_at":"2015-02-08 18:40:41","created_by":1,"updated_at":"2017-09-30 06:02:22","updated_by":1},{"id":20,"uuid":"d8722e31-10b6-4360-bbc5-61fb2e2fd0a2","key":"seenNotifications","value":"[]","type":"core","created_at":"2016-11-05 01:43:47","created_by":1,"updated_at":"2016-11-05 01:43:49","updated_by":1},{"id":21,"uuid":"49922aaf-eb7f-4ad7-84ed-58c51b7f6ce1","key":"migrations","value":"{\"006/01\":\"2016-11-05T01:43:50Z\"}","type":"core","created_at":"2016-11-05 01:43:47","created_by":1,"updated_at":"2016-11-05 01:43:50","updated_by":1},{"id":22,"uuid":"01379add-927c-4c0d-9717-910107022e96","key":"activeTimezone","value":"America/New_York","type":"blog","created_at":"2016-11-05 01:43:47","created_by":1,"updated_at":"2017-09-30 06:02:22","updated_by":1},{"id":23,"uuid":"7abd2c38-3116-4e0a-9d58-efccf432c32c","key":"facebook","value":"","type":"blog","created_at":"2016-11-05 01:43:47","created_by":1,"updated_at":"2017-09-30 06:02:22","updated_by":1},{"id":24,"uuid":"1e4af28e-ace1-4276-b75e-ca5ce42e0eff","key":"twitter","value":"@dbsmasher","type":"blog","created_at":"2016-11-05 01:43:47","created_by":1,"updated_at":"2017-09-30 06:02:22","updated_by":1},{"id":25,"uuid":"d49224e2-b63d-470c-98a0-d9ab2f9744eb","key":"navigation","value":"[{\"label\":\"Home\",\"url\":\"/\"}]","type":"blog","created_at":"2016-11-05 01:43:47","created_by":1,"updated_at":"2017-09-30 06:02:22","updated_by":1},{"id":26,"uuid":"70120035-7681-48f0-b481-18d53b6b8308","key":"slack","value":"[{\"url\":\"\"}]","type":"blog","created_at":"2016-11-05 01:43:47","created_by":1,"updated_at":"2017-09-30 06:02:22","updated_by":1},{"id":27,"uuid":"0c260755-3a86-48eb-93aa-74423f09f41a","key":"isPrivate","value":"false","type":"private","created_at":"2016-11-05 01:43:47","created_by":1,"updated_at":"2017-09-30 06:02:22","updated_by":1},{"id":28,"uuid":"ad341818-eb4a-41f3-9ec8-50913c6a54d6","key":"password","value":"","type":"private","created_at":"2016-11-05 01:43:47","created_by":1,"updated_at":"2017-09-30 06:02:22","updated_by":1}],"posts_tags":[{"id":24,"post_id":2,"tag_id":3,"sort_order":0},{"id":25,"post_id":2,"tag_id":7,"sort_order":1},{"id":26,"post_id":2,"tag_id":8,"sort_order":2},{"id":30,"post_id":4,"tag_id":4,"sort_order":0},{"id":31,"post_id":4,"tag_id":5,"sort_order":1},{"id":32,"post_id":4,"tag_id":6,"sort_order":2},{"id":33,"post_id":8,"tag_id":9,"sort_order":0},{"id":34,"post_id":8,"tag_id":10,"sort_order":1},{"id":35,"post_id":8,"tag_id":11,"sort_order":2}],"apps":[],"app_settings":[],"app_fields":[],"tags":[{"id":1,"uuid":"e9b5528a-6c9f-4ee7-8f25-33c9ef2f8688","name":"Getting Started","slug":"getting-started","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2015-02-08 18:40:40","created_by":1,"updated_at":"2015-02-08 18:40:40","updated_by":1,"visibility":"public"},{"id":2,"uuid":"1282963a-85d1-4503-ac08-4824fddecb70","name":"MySQL","slug":"mysql","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2015-02-08 20:04:26","created_by":1,"updated_at":"2015-02-08 20:04:26","updated_by":1,"visibility":"public"},{"id":3,"uuid":"cd0a0ad4-defb-4dee-b460-31bfa8ddb183","name":"SendGrid","slug":"sendgrid","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2015-02-08 20:04:26","created_by":1,"updated_at":"2015-02-08 20:04:26","updated_by":1,"visibility":"public"},{"id":4,"uuid":"cf35c2ff-2c8e-4c85-b51a-35e070d4bcee","name":"tips","slug":"tips","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2015-03-06 14:49:37","created_by":1,"updated_at":"2015-03-06 14:49:37","updated_by":1,"visibility":"public"},{"id":5,"uuid":"3539adac-791a-46f5-a6cb-3c8979d8646e","name":"tricks","slug":"tricks","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2015-03-06 14:49:37","created_by":1,"updated_at":"2015-03-06 14:49:37","updated_by":1,"visibility":"public"},{"id":6,"uuid":"cfb63848-081f-4e77-8dbd-28f24a0e78cf","name":"workflow","slug":"workflow","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2015-03-06 14:50:25","created_by":1,"updated_at":"2015-03-06 14:50:25","updated_by":1,"visibility":"public"},{"id":7,"uuid":"4b4baea0-22d5-4ce9-9151-d1d224b6072a","name":"scale","slug":"scale","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2015-03-06 15:16:29","created_by":1,"updated_at":"2015-03-06 15:16:29","updated_by":1,"visibility":"public"},{"id":8,"uuid":"d76a9b1e-d404-4c6b-9e93-a95c56e6f8ea","name":"sharding","slug":"sharding","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2015-03-06 15:17:06","created_by":1,"updated_at":"2015-03-06 15:17:06","updated_by":1,"visibility":"public"},{"id":9,"uuid":"7d1bac6a-31f0-48d3-b407-dd1952f0777c","name":"DBA101","slug":"dba101","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-03-25 03:17:11","created_by":1,"updated_at":"2016-03-25 03:17:11","updated_by":1,"visibility":"public"},{"id":10,"uuid":"151ab450-dfdd-4fc2-ad3f-af5083d2344d","name":"capacity","slug":"capacity","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-03-25 03:17:11","created_by":1,"updated_at":"2016-03-25 03:17:11","updated_by":1,"visibility":"public"},{"id":11,"uuid":"5e6b11ad-33bc-4e63-b0a5-7fef5a1ffcc4","name":"planning","slug":"planning","description":null,"image":null,"parent_id":null,"meta_title":null,"meta_description":null,"created_at":"2016-03-25 03:17:11","created_by":1,"updated_at":"2016-03-25 03:17:11","updated_by":1,"visibility":"public"}],"subscribers":[]}}]}